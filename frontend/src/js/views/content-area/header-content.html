<!--
 Copyright (c) 2020, 2024, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
-->

<div id="content-area-header-container" class="oj-flex oj-sm-flex-direction-column oj-sm-flex-wrap-nowrap">
  <!-- row 1 -->
  <div id="content-area-header-title" class="oj-flex-item">
    <span id="content-area-header-title-label" data-bind="text: [[headerTitle.label()]]"></span>
    <oj-bind-if test="[[headerTitle.description() !== '']]">
      <a
        id="data-provider-get-info"
        href="#"
        on-click="[[dataProviderIconClickHandler]]"
      >
        <span :class="[[headerTitle.classList()]]"></span>
      </a>
      <span id="content-area-header-title-description" data-bind="text: [[headerTitle.description()]]"></span>
    </oj-bind-if>
  </div>
  <!-- row 2 -->
  <!-- column 1 -->
  <div id="content-area-header-toolbar" class="oj-flex oj-sm-flex-items-initial oj-sm-flex-wrap-nowrap">
    <oj-module config="[[contentAreaHeaderToolbarModuleConfig]]"></oj-module>
    <!-- column 2, right-aligned -->
    <div id="content-area-header-iconbar" class="oj-flex-item oj-helper-margin-start-auto">
      <oj-module config="[[shoppingCartMenuModuleConfig]]"></oj-module>
      <oj-module config="[[beanPathHistoryIconModuleConfig]]"></oj-module>
      <oj-module config="[[contentAreaHeaderIconbarModuleConfig]]"></oj-module>
    </div>
  </div>
</div>

<div id="message-container" class="oj-flex-item">
  <oj-messages
    messages="[[messagesDataProvider]]"
    position="[[messagePosition]]"
    display="general"
  >
    <template slot="messageTemplate" data-oj-as="message">
      <oj-bind-if test="[[message]]">
        <oj-message message="[[message.data]]">
          <oj-bind-if test="[[typeof message.data.html !== 'undefined']]">
            <div slot="detail">
              <oj-bind-dom config="[[message.data.html]]"></oj-bind-dom>
            </div>
          </oj-bind-if>
        </oj-message>
      </oj-bind-if>
    </template>
  </oj-messages>
</div>

<oj-popup id="headerTitleProviderActionsPopup" initial-focus="firstFocusable">
  <oj-bind-if test="[[headerTitle.visible]]">
    <span :id="[[headerTitle.provider().id + '-iconbar']]" class="cfe-project-provider-iconbar oj-navigationlist-item-end">
      <a href="#" data-item-action="info" :data-item-type="[[headerTitle.provider().type]]" :data-item-id="[[headerTitle.provider().id]]" on-click="[[connectionsModelsIconBarClickListener]]">
        <img class="cfe-project-provider-iconbar-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.info.iconFile + '.png', 'title': i18n.icons.info.tooltip, alt: i18n.icons.info.tooltip}" />
      </a>
      <oj-bind-if test="[[i18n.icons.edit.visible()]]">
        <a href="#" data-item-action="edit" :data-item-type="[[headerTitle.provider().type]]" :data-item-id="[[headerTitle.provider().id]]" on-click="[[connectionsModelsIconBarClickListener]]">
          <img class="cfe-project-provider-iconbar-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.edit.iconFile + '.png', 'title': i18n.icons.edit.tooltip, alt: i18n.icons.edit.tooltip}" />
        </a>
      </oj-bind-if>
      <oj-bind-if test="[[i18n.icons.deactivate.visible()]]">
        <a href="#" data-item-action="deactivate" :data-item-type="[[headerTitle.provider().type]]" :data-item-id="[[headerTitle.provider().id]]" on-click="[[connectionsModelsIconBarClickListener]]">
          <img class="cfe-project-provider-iconbar-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.deactivate.iconFile + '.png', 'title': i18n.icons.deactivate.tooltip, alt: i18n.icons.deactivate.tooltip}" />
        </a>
      </oj-bind-if>
      <oj-bind-if test="[[i18n.icons.delete.visible()]]">
        <a href="#" data-item-action="delete" :data-item-type="[[headerTitle.provider().type]]" :data-item-id="[[headerTitle.provider().id]]" on-click="[[connectionsModelsIconBarClickListener]]">
          <img class="cfe-project-provider-iconbar-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.delete.iconFile + '.png', 'title': i18n.icons.delete.tooltip, alt: i18n.icons.delete.tooltip}" />
        </a>
      </oj-bind-if>
    </span>
  </oj-bind-if>
</oj-popup>