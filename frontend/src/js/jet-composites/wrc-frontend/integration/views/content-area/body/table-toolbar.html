<!--
 Copyright (c) 2020, 2022, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
-->
<div id="table-toolbar-container" class="oj-flex">
  <div class="oj-flex-item oj-sm-flex-items-initial">

    <oj-bind-if test="[[!showHelp()]]">
      <div id="table-toolbar-buttons" class="oj-flex-bar">
        <div class="oj-flex-bar-start">
          <oj-bind-if test="[[!readonly()]]">
            <oj-bind-if test="[[i18n.buttons.new.visible()]]">
              <oj-button id="[[i18n.buttons.new.id]]" on-oj-action="[[newAction]]" chroming="borderless"
                         disabled="[[i18n.buttons.new.disabled]]">
                <img class="button-icon" slot="startIcon"
                     data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.new.iconFile + '.png'}" />
                <span class="button-label">
                  <oj-bind-text value="[[i18n.buttons.new.label]]"></oj-bind-text>
                </span>
              </oj-button>
            </oj-bind-if>
            <oj-bind-if test="[[i18n.buttons.write.visible()]]">
              <oj-button id="[[i18n.buttons.write.id]]" on-oj-action="[[writeContentFileAction]]" chroming="borderless"
                         disabled="[[i18n.buttons.write.disabled]]">
                <img class="button-icon" slot="startIcon"
                     data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.write.iconFile + '.png'}" />
                <span class="button-label">
                  <oj-bind-text value="[[i18n.buttons.write.label]]"></oj-bind-text>
                </span>
              </oj-button>
            </oj-bind-if>
          </oj-bind-if>
          <oj-bind-if test="[[actionButtons.visible()]]">
            <oj-bind-dom config="[[actionButtons.html]]"></oj-bind-dom>
          </oj-bind-if>

          <!-- Customize button is always visible on a table toolbar -->
          <a class="table-customizer-expander" :id="[[i18n.buttons.customize.id]]" href="#" on-click="[[customizeAction]]" data-state="collapsed">
            <img class="button-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.customize.iconFile + '.png'}"/>
            <span class="button-label" data-bind="text: [[i18n.buttons.customize.label]]"></span>
            <span id="table-customizer-toggler" class="oj-fwk-icon oj-fwk-icon-caret03-s"></span>
          </a>
          <oj-bind-if test="[[i18n.buttons.customView.visible()]]">
            <oj-button id="[[i18n.buttons.customView.id]]" on-oj-action="[[customViewAction]]" chroming="borderless"
                       disabled="[[i18n.buttons.customView.disabled]]">
              <img class="button-icon" slot="startIcon"
                   data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.customView.iconFile + '.png'}" />
              <span class="button-label">
                  <oj-bind-text value="[[i18n.buttons.customView.label]]"></oj-bind-text>
                </span>
            </oj-button>
          </oj-bind-if>
        </div>

      </div>
    </oj-bind-if>

  </div>

  <div id="table-toolbar-icons" class="oj-flex-item">
    <div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-flex-end cfe-flex-items-pad">

      <div id="landing-page-toolbar-icon" class="oj-flex-item">
        <a on-click="[[landingPageClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.landing.tooltip}">
          <img id="landing-page-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.landing.iconFile + '.png'}"/>
        </a>
      </div>

      <div class="toolbar-separator-vertical">
        <!-- TODO: Replace with span that has icon class once cfe-iconfonts  is ready -->
        <img data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/separator-vertical_10x24.png'}"/>
      </div>

      <div id="toggle-history-toolbar-icon" class="oj-flex-item">
        <a on-click="[[toggleHistoryClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.history.tooltip}">
          <img id="toggle-history" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[!showBeanPathHistory() ? 'toggle-beanpath-history-on-blk_24x24' : 'toggle-beanpath-history-off-blk_24x24']] + '.png'}"/>
        </a>
      </div>
<!--
      <div id="toggle-instructions-toolbar-icon" class="oj-flex-item">
        <a on-click="[[toggleInstructionsClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.instructions.tooltip}">
          <img id="toggle-instructions" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[!showInstructions() ? 'toggle-instructions-on-blk_24x24' : 'toggle-instructions-off-blk_24x24']] + '.png'}"/>
        </a>
      </div>
-->
      <div id="page-help-toolbar-icon" class="oj-flex-item">
        <a on-click="[[helpPageClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.help.tooltip}">
          <img id="page-help-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[!showHelp() ? 'toggle-help-on-blk_24x24' : 'toggle-help-off-blk_24x24' ]] + '.png'}"/>
        </a>
      </div>

      <oj-bind-if test="[[showAutoSyncIcons]]">
        <div class="toolbar-separator-vertical">
          <!-- TODO: Replace with span that has icon class once cfe-iconfonts  is ready -->
          <img data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/separator-vertical_10x24.png'}"/>
        </div>

        <div id="sync-toolbar-icon" class="oj-flex-item">
          <a on-click="[[syncClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.sync.tooltip}">
            <img id="sync-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[autoSyncEnabled() ? 'sync-on-icon-blk_24x24' : 'sync-off-icon-blk_24x24' ]] + '.png'}" data-interval="0"/>
          </a>
        </div>

        <div id="sync-interval-toolbar-icon" class="oj-flex-item">
          <a on-click="[[syncIntervalClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.syncInterval.tooltip}">
            <img id="sync-interval-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.icons.syncInterval.iconFile + '.png'}"/>
          </a>
        </div>
      </oj-bind-if>

      <oj-bind-if test="[[isShoppingCartVisible()]]">
        <div class="toolbar-separator-vertical">
          <!-- TODO: Replace with span that has icon class once cfe-iconfonts  is ready -->
          <img data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/separator-vertical_10x24.png'}" />
        </div>
      </oj-bind-if>

      <div id="shoppingcart-toolbar-icon" class="oj-flex-item">
        <oj-bind-if test="[[isShoppingCartVisible()]]">
          <a id="shoppingCartMenuLauncher" href="#" tabindex="-1"
             on-click="[[launchShoppingCartMenu]]"
          >
            <img id="shoppingCartImage" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/shopping-cart-' + [[(changeManager().isLockOwner && changeManager().hasChanges ? 'non-empty' : 'empty')]] + '-tabstrip_24x24.png'}" />
          </a>
        </oj-bind-if>

        <oj-menu
          id="shoppingCartMenu"
          aria-labelledby="shoppingCartMenuLauncher"
          on-oj-action="[[shoppingCartMenuClickListener]]"
          open-options.launcher="shoppingCartMenuLauncher"
        >
          <oj-bind-if test="[[changeManager().isLockOwner && changeManager().hasChanges && changeManager().supportsChanges]]">
            <oj-option :id="[[i18n.menus.shoppingcart.view.id]]" value="[[i18n.menus.shoppingcart.view.id]]">
              <span><oj-bind-text value="[[i18n.menus.shoppingcart.view.label]]"></oj-bind-text></span>
            </oj-option>
            <oj-bind-if test="[[!readonly()]]">
              <oj-option>---</oj-option>
            </oj-bind-if>
          </oj-bind-if>
          <oj-bind-if test="[[!readonly()]]">
            <oj-option :id="[[i18n.menus.shoppingcart.discard.id]]" value="[[i18n.menus.shoppingcart.discard.id]]" disabled="[[!changeManager().hasChanges]]">
              <img id="discard-changes" class="option-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[i18n.menus.shoppingcart.discard.iconFile]] + '.png'}"/>
              <span><oj-bind-text value="[[i18n.menus.shoppingcart.discard.label]]"></oj-bind-text></span>
            </oj-option>
          </oj-bind-if>
          <oj-bind-if test="[[!readonly()]]">
            <oj-option :id="[[i18n.menus.shoppingcart.commit.id]]" value="[[i18n.menus.shoppingcart.commit.id]]" disabled="[[!changeManager().hasChanges]]" visible="[[i18n.menus.shoppingcart.commit.visible()]]">
              <img id="commit-changes" class="option-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[i18n.menus.shoppingcart.commit.iconFile]] + '.png'}"/>
              <span><oj-bind-text value="[[i18n.menus.shoppingcart.commit.label]]"></oj-bind-text></span>
            </oj-option>
          </oj-bind-if>
        </oj-menu>
      </div>

    </div>
  </div>
</div>