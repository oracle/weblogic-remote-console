<!--
 Copyright (c) 2021, 2023, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
-->
  <oj-dialog
    id="overlayFormDialog"
    cancel-behavior="icon"
    drag-affordance="title-bar"
    on-oj-focus="[[onOjFocus]]"
  >
    <div slot="body">
      <div id="overlay-toolbar-container" class="oj-flex">

        <div id="form-toolbar-buttons" class="oj-flex-bar cfe-overlay-form-dialog-toolbar">
          <oj-bind-if test="[[!isWizardForm()]]">
            <div id="form-toolbar-save-button" class="oj-flex-bar-start">
              <oj-button id="[[i18n.buttons.save.id]]" on-oj-action="[[onSave]]" chroming="borderless"
                 disabled="[[i18n.buttons.save.disabled()]]">
                <img class="button-icon" slot="startIcon"
                   data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.save.iconFile() + '.png', alt: i18n.buttons.save.label}" />
                <span class="button-label">
                  <oj-bind-text value="[[i18n.buttons.save.label()]]"></oj-bind-text>
                </span>
              </oj-button>
            </div>
          </oj-bind-if>

          <oj-bind-if test="[[isWizardForm()]]">
            <oj-button id="[[i18n.buttons.finish.id]]" on-oj-action="[[finishAction]]" chroming="borderless"
               disabled="[[i18n.buttons.finish.disabled]]">
              <img class="button-icon" slot="startIcon"
                data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.finish.iconFile + '.png', alt: i18n.buttons.finish.label}" />
              <span class="button-label">
                <oj-bind-text value="[[i18n.buttons.finish.label]]"></oj-bind-text>
              </span>
            </oj-button>
          </oj-bind-if>

          <oj-bind-if test="[[i18n.buttons.cancel.visible()]]">
            <oj-button id="[[i18n.buttons.cancel.id]]" on-oj-action="[[cancelAction]]" chroming="borderless"
                       disabled="[[i18n.buttons.cancel.disabled]]">
              <img class="button-icon" slot="startIcon"
                   data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + i18n.buttons.cancel.iconFile + '.png', alt: i18n.buttons.cancel.label}" />
              <span class="button-label">
              <oj-bind-text value="[[i18n.buttons.cancel.label]]"></oj-bind-text>
            </span>
            </oj-button>
          </oj-bind-if>

        </div>

        <div id="form-toolbar-icons" class="oj-flex-item cfe-overlay-form-dialog-toolbar">
          <div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-flex-end cfe-flex-items-pad">

            <div id="page-help-toolbar-icon" class="oj-flex-item">
              <a on-click="[[helpPageClick]]" data-bind="attr: {href: '#', tabindex: '-1', 'title': i18n.icons.help.tooltip}">
                <img id="page-help-icon" data-bind="attr: {src: 'js/jet-composites/wrc-frontend/1.0.0/images/' + [[!showHelp() ? 'toggle-help-on-blk_24x24' : 'toggle-help-off-blk_24x24' ]] + '.png', alt: i18n.introduction.toggleHelp.text}" />
              </a>
            </div>

          </div>
        </div>
      </div>

      <oj-bind-if test="[[hasLinkedResource()]]">
        <div class="oj-flex oj-sm-justify-content-flex-end">
          <span id="overlay-form-linked-resource"></span>
        </div>
      </oj-bind-if>

      <div id="intro" class="cfe-table-form-instructions">
        <hr>
        <oj-bind-dom config="[[introductionHTML]]"></oj-bind-dom>
      </div>

      <div id="overlay-container" class="cfe-overlay-container">
        <!--
          FortifyIssueSuppression Often Misused: File Upload
        -->
        <input class="cfe-file-chooser" id="file-chooser" type="file"/>

        <oj-bind-if test="[[!showHelp()]]">
          <oj-bind-dom label-edge="inside" config="[[ overlayFormDom ]]"></oj-bind-dom>
        </oj-bind-if>

        <oj-bind-if test="[[showHelp()]]">
          <oj-table
            id='help-table'
            data='[[helpDataProvider]]'
            scroll-policy='loadMoreOnScroll'
            scroll-policy-options='{"fetchSize": 10}'
            columns-default='{"sortable": "disabled", "resizable":"disabled"}'
            columns='[[tableHelpColumns]]'
          >
            <template slot="domTemplate" data-oj-as="cell">
              <oj-bind-dom config="[[cell.data]]"></oj-bind-dom>
            </template>
          </oj-table>
          <oj-bind-dom config="[[helpFooterDom]]"></oj-bind-dom>
        </oj-bind-if>
      </div>

      <div id="overlay-response-message">
        <span data-bind="html: [[responseMessage()]]"></span>
      </div>

    </div>
  </oj-dialog>
