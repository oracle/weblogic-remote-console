define(['exports', 'preact/jsx-runtime', 'preact/compat', './LayerHost-daf96749', './classNames-08d99695', './UNSAFE_Layer/themes/LayerStyles.css', './useThemeInterpolations-14ffb628'], (function(e,t,o,s,r,a,l){"use strict";const n=Symbol.for("oj-logical-parent");e.LOGICAL_PARENT=n,e.Layer=({children:e,logicalParentRef:i,isModal:y=!1,priority:c="popup",level:u="nearestAncestor"})=>{const[m,p]=o.useState(null),d=o.useRef(null),L=o.useContext(s.LayerContext),g=e=>{d.current=e,p(e)},f=l.useThemeInterpolations(i);let b=a.styles.popupPriorityStyle;switch(c){case"dialog":b=a.styles.dialogPriorityStyle;break;case"messages":b=a.styles.messagesPriorityStyle;break;case"tooltip":b=a.styles.tooltipPriorityStyle;break;default:b=a.styles.popupPriorityStyle}const S=r.classNames([f,a.baseStyle,b]);o.useLayoutEffect((()=>{const e="topLevel"===u?L.getRootLayerHost?.(c):L.getLayerHost?.(c);if(!e)return;const t=(e.ownerDocument??document).createElement("div");return t.setAttribute("data-oj-layer",y?"modal":"modeless"),i&&(t[n]=l.toUnsafeDomElement(i)),e.appendChild(t),g(t),()=>{e&&t&&e.contains(t)&&(delete t[n],e.removeChild(t)),L.onLayerUnmount&&L.onLayerUnmount(t),g(null)}}),[i,L,u,c,y]),m&&(m.className=S);const H=o.useCallback((()=>m),[m]),P=o.useMemo((()=>L.getLayerHost?{getRootLayerHost:L.getRootLayerHost?.bind(null,c),getLayerHost:H.bind(null)}:{}),[L.getLayerHost,L.getRootLayerHost,H,c]);return t.jsx(s.LayerContext.Provider,{value:P,children:m&&o.createPortal(e,m)})}}));
//# sourceMappingURL=Layer-c91c7141.js.map
