// This loader is to be used when importing a JSON file (as done by CCA's loader.ts)
// expects that the content will come as text. NodeJS's behavior is to parse JSON
// files and return the object from the module, causing double-parsing when passed
// to JSON.parse().
// This loader escapes the double-quotes and removes newlines so that JSON.parse()
// treats it as an object with a single string key.
module.exports = {
  process: content => ({ code: `"` + content.replace(/"/g, `\\"`).replace(/[\r\n]/g, '') + `"` })
}
