function deepMerge(o1, ...rest) {
  if (!rest.length) {
    return;
  }
  const o2 = rest.shift();
  Object.keys(o2).forEach(k2 => {
    const v2 = o2[k2];
    if (typeof v2 === 'object' && k2 in o1) {
      deepMerge(o1[k2], v2);
    } else {
      o1[k2] = v2;
    }
  });
  deepMerge(o1, ...rest);
}

module.exports = { deepMerge };
