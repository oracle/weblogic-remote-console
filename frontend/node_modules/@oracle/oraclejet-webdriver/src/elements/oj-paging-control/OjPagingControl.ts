import { OjPagingControlBase } from './OjPagingControlBase';

/**
 * The component WebElement for [oj-paging-control](../../jsdocs/oj.ojPagingControl.html).
 * Do not instantiate this class directly, instead, use
 * [ojPagingControl](../functions/elements.ojPagingControl-1.html).
 */
export class OjPagingControl extends OjPagingControlBase {
  /**
   * Change the page to the one provided.
   * @param {Number} page The 0-index-based page number to which to
   * switch.
   * @return A Promise that is resolved when the page
   * transition is completed.
   */
  async changeSelection(page: number) {
    await this.whenReady();
    await this.getDriver().executeScript(
      (element: any, page: number) => element.page(page),
      this,
      page
    );
    // Wait for animations to end
    return this.whenBusyContextReady();
  }
}
