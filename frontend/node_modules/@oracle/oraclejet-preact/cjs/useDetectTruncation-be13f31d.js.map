{"version":3,"file":"useDetectTruncation-be13f31d.js","sources":["../../src/hooks/PRIVATE_useDetectTruncation/useDetectTruncation.tsx"],"sourcesContent":["import { detectTruncation } from '#utils/PRIVATE_truncationUtils';\nimport { useResizeObserver } from '#hooks/UNSAFE_useResizeObserver';\nimport { useCallback, useRef, useState } from 'preact/hooks';\nimport { useTabbableMode } from '#hooks/UNSAFE_useTabbableMode';\n\nconst useDetectTruncation = (isDisabled = false) => {\n  const rootRef = useRef<HTMLElement>(null);\n  const [isTextTruncated, setIsTextTruncated] = useState<boolean>(false);\n  const { isTabbable } = useTabbableMode();\n  const [isHovered, setIsHovered] = useState(false);\n  const handleMouseEnter = () => setIsHovered(true);\n  const handleMouseLeave = () => setIsHovered(false);\n\n  const detectIfTruncated = useCallback(() => {\n    if (rootRef.current && !isDisabled) {\n      const element = rootRef.current;\n      element.addEventListener('mouseenter', handleMouseEnter);\n      element.addEventListener('mouseleave', handleMouseLeave);\n      if (isTabbable || isHovered) {\n        const isTruncated = detectTruncation(rootRef);\n        setIsTextTruncated(isTruncated);\n      }\n    }\n  }, [isDisabled, isHovered, isTabbable]);\n  useResizeObserver(rootRef, detectIfTruncated, { isDisabled: isDisabled });\n\n  const detectTruncationProps = {\n    ref: rootRef\n  };\n\n  return { detectTruncationProps, isTextTruncated };\n};\n\nexport { useDetectTruncation };\n"],"names":["useRef","useState","useTabbableMode","useCallback","detectTruncation","useResizeObserver"],"mappings":";;;;;;;;;AAKA,MAAM,mBAAmB,GAAG,CAAC,UAAU,GAAG,KAAK,KAAI;AACjD,IAAA,MAAM,OAAO,GAAGA,YAAM,CAAc,IAAI,CAAC,CAAC;IAC1C,MAAM,CAAC,eAAe,EAAE,kBAAkB,CAAC,GAAGC,cAAQ,CAAU,KAAK,CAAC,CAAC;AACvE,IAAA,MAAM,EAAE,UAAU,EAAE,GAAGC,+BAAe,EAAE,CAAC;IACzC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAGD,cAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,gBAAgB,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC,CAAC;IAClD,MAAM,gBAAgB,GAAG,MAAM,YAAY,CAAC,KAAK,CAAC,CAAC;AAEnD,IAAA,MAAM,iBAAiB,GAAGE,iBAAW,CAAC,MAAK;AACzC,QAAA,IAAI,OAAO,CAAC,OAAO,IAAI,CAAC,UAAU,EAAE;AAClC,YAAA,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;AAChC,YAAA,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;AACzD,YAAA,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;AACzD,YAAA,IAAI,UAAU,IAAI,SAAS,EAAE;AAC3B,gBAAA,MAAM,WAAW,GAAGC,gCAAgB,CAAC,OAAO,CAAC,CAAC;gBAC9C,kBAAkB,CAAC,WAAW,CAAC,CAAC;aACjC;SACF;KACF,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC;IACxCC,mCAAiB,CAAC,OAAO,EAAE,iBAAiB,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;AAE1E,IAAA,MAAM,qBAAqB,GAAG;AAC5B,QAAA,GAAG,EAAE,OAAO;KACb,CAAC;AAEF,IAAA,OAAO,EAAE,qBAAqB,EAAE,eAAe,EAAE,CAAC;AACpD;;;;"}