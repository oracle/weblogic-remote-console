{"version":3,"file":"LayerHost-aee0e070.js","sources":["../../src/UNSAFE_Environment/EnvironmentContext.tsx","../../src/UNSAFE_Layer/LayerContext.ts","../../src/UNSAFE_Layer/LayerHost.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Theme, ThemeModifiers } from '../UNSAFE_Theme';\n\nimport { Redwood } from '../Common';\nimport { createContext } from 'preact';\n\n/**\n * Defines user specific environment\n */\ntype User = {\n  locale: string;\n  direction: 'rtl' | 'ltr';\n  forcedColors: 'none' | 'active';\n};\n\n/**\n * Defines translation bundle type.\n */\nexport type TranslationBundle = Record<string, (...args: any[]) => string>;\n\n/**\n * Defines a type for translation property which is an object where\n * - key - string - bundle id\n * - value - object - strings to functions of the type (options?: object)=>string\n *\n * Translation bundle example:\n * const bundle = {\n *  @oracle/oracle-preact-bundle: {\n *      welcome: () => 'bienvenido',\n *      success: () => 'Ã©xito'\n *  }\n * }\n */\ntype Translations = { [bundleId: string]: TranslationBundle };\n\n/**\n * Defines the mode in which the application is running. For \"test\" mode, UNSAFE_useTestId hook will\n * return a set of attributes to be rendered on the component DOM for testing purposes. Default is\n * \"production\"\n */\ntype Mode = 'test' | 'production';\n\n/**\n * Environment specified at the root level\n */\nexport type RootEnvironment = Partial<ThemeModifiers> & {\n  /**\n   * user - supports user preferences\n   */\n  user?: Partial<User>;\n  /**\n   * theme - supports theme settings\n   */\n  theme?: Theme;\n  /**\n   * translations - supports translation bundles\n   */\n  translations?: Translations;\n  /**\n   * mode - the application's configured mode\n   */\n  mode?: Mode;\n};\n\n/**\n * Environment specified at the component level\n */\nexport type Environment = Partial<ThemeModifiers> & {\n  translations?: Translations;\n};\n\nexport type CompleteEnvironmentType = ThemeModifiers & {\n  user: User;\n  theme: Theme;\n  translations?: Translations;\n  mode: Mode;\n};\n\n/**\n * Default environment created for the application\n */\nexport const DefaultEnvironment: CompleteEnvironmentType = {\n  user: {\n    locale: document.documentElement.getAttribute('lang') || 'en',\n    direction:\n      document.documentElement.getAttribute('dir')?.toLowerCase() === 'rtl' ? 'rtl' : 'ltr',\n    forcedColors: window.matchMedia?.('(forced-colors: active)')?.matches ? 'active' : 'none'\n  },\n  theme: Redwood,\n  colorScheme: 'light',\n  scale: 'lg',\n  currentBgColor: undefined,\n  mode: 'production',\n  density: 'standard'\n};\n\nexport const EnvironmentContext = createContext<CompleteEnvironmentType>(DefaultEnvironment);\n","import { createContext } from 'preact';\n\nexport type LayerLevel = 'nearestAncestor' | 'topLevel';\nexport type LayerPriority = 'popup' | 'dialog' | 'messages' | 'tooltip';\n\nexport type LayerContextProps = {\n  getRootLayerHost?: (priority?: LayerPriority) => Element;\n  getLayerHost?: (priority?: LayerPriority) => Element;\n  onLayerUnmount?: (element: HTMLElement) => void;\n};\n\nexport const LayerContext = createContext<LayerContextProps>({});\n","/**\n * The LayerHost is a div which is created in place\n * where you want to \"house\" a portaled content\n */\nimport { forwardRef } from 'preact/compat';\nimport { baseStyle } from './themes/LayerHostStyles.css';\n\nconst LayerHost = forwardRef<HTMLDivElement>((_props, ref) => {\n  return <div id=\"__root_layer_host\" role=\"presentation\" ref={ref} class={baseStyle} />;\n});\n\nLayerHost.displayName = 'Forwarded<LayerHost>';\n\nexport default LayerHost;\n"],"names":["Redwood","createContext","forwardRef","_jsx","baseStyle"],"mappings":";;;;;;;;;AAAA;;;;;;AAMG;AA+EH;;AAEG;AACU,MAAA,kBAAkB,GAA4B;AACzD,IAAA,IAAI,EAAE;QACJ,MAAM,EAAE,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;QAC7D,SAAS,EACP,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,KAAK,KAAK,GAAG,KAAK,GAAG,KAAK;AACvF,QAAA,YAAY,EAAE,MAAM,CAAC,UAAU,GAAG,yBAAyB,CAAC,EAAE,OAAO,GAAG,QAAQ,GAAG,MAAM;AAC1F,KAAA;AACD,IAAA,KAAK,EAAEA,OAAO;AACd,IAAA,WAAW,EAAE,OAAO;AACpB,IAAA,KAAK,EAAE,IAAI;AACX,IAAA,cAAc,EAAE,SAAS;AACzB,IAAA,IAAI,EAAE,YAAY;AAClB,IAAA,OAAO,EAAE,UAAU;EACnB;MAEW,kBAAkB,GAAGC,oBAAa,CAA0B,kBAAkB;;MC5F9E,YAAY,GAAGA,oBAAa,CAAoB,EAAE;;ACJzD,MAAA,SAAS,GAAGC,iBAAU,CAAiB,CAAC,MAAM,EAAE,GAAG,KAAI;AAC3D,IAAA,OAAOC,wBAAK,EAAE,EAAC,mBAAmB,EAAC,IAAI,EAAC,cAAc,EAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAEC,iDAAS,GAAI,CAAC;AACxF,CAAC,EAAE;AAEH,SAAS,CAAC,WAAW,GAAG,sBAAsB;;;;;;;"}