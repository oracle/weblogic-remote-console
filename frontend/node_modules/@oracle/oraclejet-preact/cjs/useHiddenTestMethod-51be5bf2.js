/* @oracle/oraclejet-preact: undefined */
'use strict';

var hooks = require('preact/hooks');
var LayerHost = require('./LayerHost-aee0e070.js');
require('preact/jsx-runtime');
require('preact/compat');

/**
 * This hook is used to add a hidden method to a component's root DOM element
 * that can be called by test adapters. The hidden method is only added when
 * we are not running in production mode, i.e. it's only used for testing.
 *
 * @param elementRef The ref to a component's root DOM element
 * @param method The hidden method to expose in the DOM
 * @param name The name of the hidden method in the DOM
 */
function useHiddenTestMethod({ elementRef, method, name }) {
    const context = hooks.useContext(LayerHost.EnvironmentContext);
    // Add the hidden method to the DOM element only when mode !== production.
    hooks.useEffect(() => {
        if (elementRef.current && context.mode !== 'production') {
            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */
            elementRef.current[name] = method;
        }
    }, [context.mode, elementRef, method, name]);
}

exports.useHiddenTestMethod = useHiddenTestMethod;
//# sourceMappingURL=useHiddenTestMethod-51be5bf2.js.map
