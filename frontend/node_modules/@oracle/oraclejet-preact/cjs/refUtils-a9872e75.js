/* @oracle/oraclejet-preact: undefined */
'use strict';

function assignRef(ref, value) {
    if (ref == null)
        return;
    if (typeof ref === 'function') {
        return ref(value);
    }
    try {
        ref.current = value;
    }
    catch (error) {
        throw new Error(`Cannot assign value '${value}' to ref '${ref}'`);
    }
}
function mergeRefs(...refs) {
    return (node) => {
        let cleanupFunc;
        // We need to keep track of cleanup functions from ref callbacks
        // (Preact feature added in PR https://github.com/preactjs/preact/pull/4436).
        // When cleanup functions are detected, create a wrapper around them
        // that will be executed when a component is disconnected from DOM.
        const cleanupFuncArray = refs.reduce((acc, ref) => {
            const cleanupFunc = assignRef(ref, node);
            if (typeof cleanupFunc === 'function') {
                acc.push(cleanupFunc);
            }
            return acc;
        }, []);
        if (cleanupFuncArray.length > 0) {
            cleanupFunc = () => {
                cleanupFuncArray.forEach((func) => func());
            };
        }
        return cleanupFunc;
    };
}

exports.assignRef = assignRef;
exports.mergeRefs = mergeRefs;
//# sourceMappingURL=refUtils-a9872e75.js.map
