{"version":3,"file":"eventsUtils-d34f8647.js","sources":["../../src/utils/UNSAFE_visUtils/eventsUtils.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport type { RefObject } from 'preact';\n\n/**\n * Return the dataset info of target element.\n * @param target\n * @param rootRef\n * @returns\n */\nexport function getElementData(rootRef: RefObject<Element>, target: HTMLElement) {\n  let currentTarget = target;\n\n  while (currentTarget != rootRef.current) {\n    const objectId = currentTarget.dataset['ojPrivateObject'];\n    if (objectId) {\n      return currentTarget.dataset;\n    }\n    currentTarget = currentTarget.parentElement!;\n  }\n  return null;\n}\n\n/**\n * Parses the groupIndex, seriesIndex and ItemIndex from the fiven DOMStringMap.\n * @param infoMap\n */\nfunction parseInfo(infoMap: DOMStringMap) {\n  return {\n    groupIndex: infoMap['ojPrivateGroupIndex']\n      ? parseInt(infoMap['ojPrivateGroupIndex'], 10)\n      : undefined,\n    seriesIndex: infoMap['ojPrivateSeriesIndex']\n      ? parseInt(infoMap['ojPrivateSeriesIndex'], 10)\n      : undefined,\n    itemIndex: infoMap['ojPrivateItemIndex']\n      ? parseInt(infoMap['ojPrivateItemIndex'], 10)\n      : undefined,\n    levelIndex: infoMap['ojPrivateLevelIndex']\n      ? parseInt(infoMap['ojPrivateLevelIndex'], 10)\n      : undefined\n  };\n}\n\n/**\n * Returns the group or item info.\n * @param rootRef\n * @param event\n * @returns\n */\nexport function getInfo(rootRef: RefObject<HTMLElement>, target: HTMLElement) {\n  const elDomMap = getElementData(rootRef, target);\n  if (!elDomMap) {\n    return;\n  }\n  return parseInfo(elDomMap);\n}\n\n/**\n * Prevent defaults and stops propagation of event.\n * @param event\n */\nexport function cancelEvent(event: Event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n/**\n * Compares if two sets are equal.\n */\nexport const isEqual = <T>(setA: Set<T>, setB: Set<T>) => {\n  return setA.size === setB.size && [...setA].every((value) => setB.has(value));\n};\n"],"names":[],"mappings":";;;AAAA;;;;;;AAMG;AAIH;;;;;AAKG;AACa,SAAA,cAAc,CAAC,OAA2B,EAAE,MAAmB,EAAA;IAC7E,IAAI,aAAa,GAAG,MAAM,CAAC;AAE3B,IAAA,OAAO,aAAa,IAAI,OAAO,CAAC,OAAO,EAAE;QACvC,MAAM,QAAQ,GAAG,aAAa,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC1D,IAAI,QAAQ,EAAE;YACZ,OAAO,aAAa,CAAC,OAAO,CAAC;SAC9B;AACD,QAAA,aAAa,GAAG,aAAa,CAAC,aAAc,CAAC;KAC9C;AACD,IAAA,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;AAGG;AACH,SAAS,SAAS,CAAC,OAAqB,EAAA;IACtC,OAAO;AACL,QAAA,UAAU,EAAE,OAAO,CAAC,qBAAqB,CAAC;cACtC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,EAAE,CAAC;AAC9C,cAAE,SAAS;AACb,QAAA,WAAW,EAAE,OAAO,CAAC,sBAAsB,CAAC;cACxC,QAAQ,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,EAAE,CAAC;AAC/C,cAAE,SAAS;AACb,QAAA,SAAS,EAAE,OAAO,CAAC,oBAAoB,CAAC;cACpC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC,EAAE,EAAE,CAAC;AAC7C,cAAE,SAAS;AACb,QAAA,UAAU,EAAE,OAAO,CAAC,qBAAqB,CAAC;cACtC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,EAAE,CAAC;AAC9C,cAAE,SAAS;KACd,CAAC;AACJ,CAAC;AAED;;;;;AAKG;AACa,SAAA,OAAO,CAAC,OAA+B,EAAE,MAAmB,EAAA;IAC1E,MAAM,QAAQ,GAAG,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACjD,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO;KACR;AACD,IAAA,OAAO,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC7B,CAAC;AAED;;;AAGG;AACG,SAAU,WAAW,CAAC,KAAY,EAAA;IACtC,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,KAAK,CAAC,eAAe,EAAE,CAAC;AAC1B,CAAC;AAED;;AAEG;MACU,OAAO,GAAG,CAAI,IAAY,EAAE,IAAY,KAAI;IACvD,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AAChF;;;;;;;"}