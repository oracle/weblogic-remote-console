{"version":3,"file":"useDownToggle-7b257d2b.js","sources":["../../src/hooks/UNSAFE_useDownToggle/useDownToggle.ts"],"sourcesContent":["import { useCallback } from 'preact/hooks';\n\nexport type DownToggleDetail = {\n  value: boolean;\n};\n\nexport type DownToggleOptions = {\n  isDisabled?: boolean;\n  onToggle?: (details: DownToggleDetail) => void;\n  isOpen?: boolean;\n};\n\nexport type DownToggleReturnType = {\n  triggerProps: Record<string, any>;\n};\n\n/**\n * Toggle a state when down arrow is pressed to control a popup.\n * This can be used to control the visibility of a dropdown such as a color picker or menu.\n *\n * @returns\n */\nexport function useDownToggle({\n  isDisabled,\n  isOpen,\n  onToggle\n}: DownToggleOptions): DownToggleReturnType {\n  // DOWN ARROW invokes dropdown\n  const onKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      if (event.key == 'ArrowDown') {\n        !isDisabled && onToggle?.({ value: !isOpen });\n        event.preventDefault();\n      }\n    },\n    [isDisabled, isOpen, onToggle]\n  );\n\n  const triggerProps = isDisabled\n    ? {}\n    : {\n        onKeyDown,\n        'aria-haspopup': 'true',\n        'aria-expanded': isOpen\n      };\n\n  return {\n    triggerProps: triggerProps\n  };\n}\n"],"names":["useCallback"],"mappings":";;;;;AAgBA;;;;;AAKG;AACG,SAAU,aAAa,CAAC,EAC5B,UAAU,EACV,MAAM,EACN,QAAQ,EACU,EAAA;;AAElB,IAAA,MAAM,SAAS,GAAGA,iBAAW,CAC3B,CAAC,KAAoB,KAAI;AACvB,QAAA,IAAI,KAAK,CAAC,GAAG,IAAI,WAAW,EAAE;AAC5B,YAAA,CAAC,UAAU,IAAI,QAAQ,GAAG,EAAE,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;YAC9C,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;KACF,EACD,CAAC,UAAU,EAAE,MAAM,EAAE,QAAQ,CAAC,CAC/B,CAAC;IAEF,MAAM,YAAY,GAAG,UAAU;AAC7B,UAAE,EAAE;AACJ,UAAE;YACE,SAAS;AACT,YAAA,eAAe,EAAE,MAAM;AACvB,YAAA,eAAe,EAAE,MAAM;SACxB,CAAC;IAEN,OAAO;AACL,QAAA,YAAY,EAAE,YAAY;KAC3B,CAAC;AACJ;;;;"}