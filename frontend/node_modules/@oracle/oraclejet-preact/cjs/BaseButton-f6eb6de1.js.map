{"version":3,"file":"BaseButton-f6eb6de1.js","sources":["../../src/UNSAFE_BaseButton/BaseButton.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Vers.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren, Ref } from 'preact';\nimport { forwardRef, ElementRef } from 'preact/compat';\nimport { useHover } from '../hooks/UNSAFE_useHover';\nimport { useActive } from '../hooks/UNSAFE_useActive';\nimport { useColorScheme } from '../hooks/UNSAFE_useColorScheme';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport type { DimensionProps } from '../utils/UNSAFE_interpolations/dimensions';\nimport { dimensionInterpolations } from '../utils/UNSAFE_interpolations/dimensions';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { getClientHints } from '../utils/PRIVATE_clientHints';\nimport { mergeProps } from '../utils/UNSAFE_mergeProps';\nimport { BaseButtonVariantOptions } from './themes/BaseButtonStyles.css';\nimport { BaseButtonRedwoodTheme } from './themes/redwood/BaseButtonTheme';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { BareButton } from '#/UNSAFE_BareButton';\nimport { TestIdProps } from '../hooks/UNSAFE_useTestId';\nimport { processGlobals } from '../utils/UNSAFE_buttonUtils';\nimport type { ButtonIntrinsicProps, ButtonIntrinsicAriaProps } from '../utils/UNSAFE_buttonUtils';\n\nexport type ActionDetail = {\n  reason: 'pointer' | 'keyboard';\n};\n\ntype BaseButtonElementDetails =\n  | {\n      type: 'button';\n      buttonType?: 'button' | 'submit';\n      isFocusable?: never;\n      isLabel?: never;\n      isSwitch?: boolean;\n    }\n  | {\n      type: 'a';\n      buttonType?: never;\n      href: string;\n      target?: string;\n      rel?: string;\n      isFocusable?: never;\n      isLabel?: never;\n      isSwitch?: never;\n    }\n  | {\n      type: 'span';\n      buttonType?: never;\n      isFocusable?: boolean;\n      isLabel?: boolean;\n      isSwitch?: boolean;\n    };\n\nexport type StylingOptions =\n  | 'default'\n  | 'min'\n  | 'embedded'\n  | 'container'\n  | 'unstyled'\n  | 'fill'\n  | 'noBorderRadiusEnd'\n  | 'noBorderRadiusStart'\n  | 'noBorderEnd'\n  | 'noBorderStart'\n  | 'active'\n  | 'selected'\n  | 'buttonSetItem'\n  | 'trailingItem'\n  | 'widthEqual'\n  | 'hiddenLabel'\n  | 'noHoverActive'\n  | 'widthAuto'\n  | 'newStackingContext';\n\nexport type Props = ButtonIntrinsicProps &\n  ButtonIntrinsicAriaProps &\n  DimensionProps &\n  TestIdProps & {\n    /**\n     *The default slot is the button's text label. The oj-c-base-button element accepts plain text or DOM nodes as children for the default slot.\"\n     */\n    children?: ComponentChildren;\n\n    /**\n     * Specifies that the button be read-only.\n     */\n    isReadOnly?: boolean;\n\n    /**\n     * Specifies that the button element should be disabled.\n     */\n    isDisabled?: boolean;\n\n    /**\n     * Specifies if repeated events are dispatched for key or pointer held down\n     */\n    isRepeat?: boolean;\n\n    /**\n     * Specifies if Button should use only a click handler, not keyup/down, ptr up/down\n     */\n    isClick?: boolean;\n\n    /**\n     *\n     * Indicates in what states the button has chrome (background and border).\n     *     \"ghost\": \"Ghost buttons are the least prominent variation.  Ghost buttons are\n     * useful for performing low-priority tasks, such as manipulating the UI.\",\n     *     \"borderless\"': \"Borderless buttons are a more prominent variation. Borderless\n     * buttons are useful for supplemental actions that require minimal emphasis.\",\n     *     \"outlined\"': \"Outlined buttons are salient, but lighter weight than\n     * solid buttons. Outlined buttons are useful for secondary actions.\",\n     *     \"solid\"': \"Solid buttons stand out, and direct the user's attention to the\n     *  most important actions in the UI.\",\n     *     \"callToAction\"': \"A Call To Action (CTA) button guides the user to take or\n     * complete the action that is the main goal of the page or page section. There\n     * should only be one CTA button on a page at any given time.\",\n     *     \"danger\"': \"A Danger button alerts the user to a dangerous situation.\"\n     */\n    variant?: 'ghost' | 'borderless' | 'outlined' | 'solid' | 'callToAction' | 'danger';\n\n    /**\n     * The size indicates how large the button is rendered: 'xs', \"sm\", \"md\" (default), \"lg\".\n     */\n    size?: 'xs' | 'sm' | 'md' | 'lg';\n\n    /**\n     * Edge can be used to specify that the button is intended to go at the bottom of\n     * a region, stretching from left to right: \"bottom\" or \"none\" (default).\n     */\n    edge?: 'none' | 'bottom';\n\n    /**\n     * Styling can be used for customizing buttons by removing label padding (\"min\") or\n     * removing all styling (\"unstyled\").\n     */\n    styling?: StylingOptions[];\n\n    /**\n     * Triggered when a button is clicked, whether by keyboard, mouse, or touch events.\n     */\n    onAction?: (details: ActionDetail) => void;\n\n    /**\n     * Indicate element type and associated details\n     */\n    elementDetails?: BaseButtonElementDetails;\n  };\n\ntype ButtonHandle = ElementRef<typeof BareButton>;\n\nconst interpolations = [...Object.values(dimensionInterpolations)];\nconst styleInterpolations = mergeInterpolations<Props>(interpolations);\n\nconst clientHints = getClientHints();\n// :active only works on IOS devices if a touch handler exists\nconst iosProps = clientHints.platform === 'ios' ? { ontouchstart: function () {} } : {};\nconst isHybrid = getClientHints().hoverSupport === 'events';\n\nexport const BaseButton = forwardRef(\n  (\n    {\n      variant,\n      isReadOnly = false,\n      isDisabled = false,\n      isRepeat = false,\n      isClick,\n      size,\n      onAction,\n      elementDetails = { type: 'button', buttonType: 'button' },\n      styling = ['default'],\n      edge = 'none',\n      testId,\n      ...props\n    }: Props,\n    ref: Ref<ButtonHandle>\n  ) => {\n    const isStyled = (name: StylingOptions) => {\n      return styling.indexOf(name) > -1;\n    };\n    const { globalEventProps, ariaProps } = processGlobals(props);\n    const { hoverProps, isHover } = useHover({ isDisabled: !isHybrid });\n    const { activeProps, isActive } = useActive({ isDisabled: isReadOnly });\n    const { class: cls, ...styles } = styleInterpolations({\n      ...props,\n      ...globalEventProps\n    });\n\n    const ElementType = elementDetails.type;\n    const isSpan = ElementType == 'span';\n    const colorScheme = useColorScheme();\n\n    const { variantClasses } = useComponentTheme<BaseButtonVariantOptions>(BaseButtonRedwoodTheme, {\n      size,\n      variant,\n      unstyled: isStyled('unstyled') ? 'isUnstyled' : 'notUnstyled',\n      embedded: isStyled('embedded') ? 'isEmbedded' : 'notEmbedded',\n      container: isStyled('container') ? 'isContainer' : 'notContainer',\n      noBorderRadiusStart: isStyled('noBorderRadiusStart')\n        ? 'isNoBorderRadiusStart'\n        : 'notNoBorderRadiusStart',\n      noBorderRadiusEnd: isStyled('noBorderRadiusEnd')\n        ? 'isNoBorderRadiusEnd'\n        : 'notNoBorderRadiusEnd',\n      noBorderStart: isStyled('noBorderStart') ? 'isNoBorderStart' : 'notNoBorderStart',\n      noBorderEnd: isStyled('noBorderEnd') ? 'isNoBorderEnd' : 'notNoBorderEnd',\n      activeStyle: isStyled('active') ? 'isActiveStyle' : 'notActiveStyle',\n      selectedStyle: isStyled('selected') ? 'isSelectedStyle' : 'notSelectedStyle',\n      buttonSetItem: isStyled('buttonSetItem') ? 'isButtonSetItem' : 'notButtonSetItem',\n      trailingItem: isStyled('trailingItem') ? 'isTrailingItem' : 'notTrailingItem',\n      fill: isStyled('fill') ? 'isFill' : 'notFill',\n      min: isStyled('min') ? 'isMin' : 'notMin',\n      disabled: isDisabled ? 'isDisabled' : 'notDisabled',\n      edge,\n      hybrid: isHybrid ? 'isHybrid' : 'notHybrid',\n      active: isActive ? 'isActive' : 'notActive',\n      hover: isHover ? 'isHover' : 'notHover',\n      span: isSpan ? 'isSpan' : 'notSpan',\n      widthEqual: isStyled('widthEqual') ? 'isWidthEqual' : 'notWidthEqual',\n      widthAuto: isStyled('widthAuto') ? 'isWidthAuto' : 'notWidthAuto',\n      hiddenLabel: isStyled('hiddenLabel') ? 'isHidden' : 'notHidden',\n      noHoverActive: isStyled('noHoverActive') ? 'isNoHoverActive' : 'notNoHoverActive',\n      newStackingContext: isStyled('newStackingContext')\n        ? 'isNewStackingContext'\n        : 'notNewStackingContext',\n      colorScheme\n    });\n\n    const legacyGlobals = {\n      autofocus: props.autofocus,\n      title: props.title\n    };\n\n    const mergedProps = mergeProps(\n      iosProps,\n      ariaProps,\n      hoverProps,\n      isStyled('container') ? {} : activeProps,\n      globalEventProps,\n      legacyGlobals\n    );\n\n    const wrapperClasses = classNames([cls, variantClasses]);\n\n    return (\n      <BareButton\n        ref={ref}\n        isDisabled={isDisabled || isReadOnly}\n        isClick={isClick}\n        classNames={wrapperClasses}\n        style={styles}\n        testId={testId}\n        onAction={onAction}\n        autofocus={props['autofocus']}\n        elementDetails={elementDetails}\n        isRepeat={isRepeat}\n        {...ariaProps}\n        {...mergedProps}>\n        {props.children}\n      </BareButton>\n    );\n  }\n);\n\nBaseButton.displayName = 'BaseButton';\n"],"names":["dimensionInterpolations","mergeInterpolations","getClientHints","forwardRef","processGlobals","useHover","useActive","useColorScheme","useComponentTheme","BaseButtonRedwoodTheme","mergeProps","classNames","_jsx","BareButton"],"mappings":"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"}