{"version":3,"file":"HighlightText-e622ae4f.js","sources":["../../src/UNSAFE_HighlightText/HighlightText.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { highlightStyles } from './HighlightTextStyles.css';\nimport { TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\n\ntype Props = TestIdProps & {\n  /**\n   * The text string to apply highlighting to.\n   */\n  children?: string;\n  /**\n   * The text string to match.\n   */\n  matchText?: string;\n};\n\nconst HIGHLIGHT_TOKEN = '__@@__';\nconst HIGHLIGHT_PATTERN = `${HIGHLIGHT_TOKEN}$&${HIGHLIGHT_TOKEN}`;\n\n/**\n * Renders a text string with highlighting applied to the given text to match.\n */\nexport function HighlightText({ children = '', matchText = '', testId }: Props) {\n  const testIdProps = useTestId(testId);\n  if (matchText.length > 0 && children.length > 0) {\n    const escapedMatchText = escapeRegExp(matchText);\n    const highlightedText = children.replace(new RegExp(escapedMatchText, 'gi'), HIGHLIGHT_PATTERN);\n    const tokens = highlightedText.split(HIGHLIGHT_TOKEN);\n    const nodes = tokens.map((current, index) =>\n      index % 2 == 0 ? current : <span class={highlightStyles}>{current}</span>\n    );\n\n    return <span {...testIdProps}>{nodes}</span>;\n  }\n  return <span {...testIdProps}>{children}</span>;\n}\n\nfunction escapeRegExp(str: string) {\n  // copied from:\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n  return str.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n"],"names":["useTestId","_jsx"],"mappings":";;;;;;;;;AAsBA,MAAM,eAAe,GAAG,QAAQ,CAAC;AACjC,MAAM,iBAAiB,GAAG,CAAA,EAAG,eAAe,CAAK,EAAA,EAAA,eAAe,EAAE,CAAC;AAEnE;;AAEG;AACa,SAAA,aAAa,CAAC,EAAE,QAAQ,GAAG,EAAE,EAAE,SAAS,GAAG,EAAE,EAAE,MAAM,EAAS,EAAA;AAC5E,IAAA,MAAM,WAAW,GAAGA,mBAAS,CAAC,MAAM,CAAC,CAAC;AACtC,IAAA,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAC/C,QAAA,MAAM,gBAAgB,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC;AACjD,QAAA,MAAM,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE,iBAAiB,CAAC,CAAC;QAChG,MAAM,MAAM,GAAG,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACtD,QAAA,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,KACtC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,OAAO,GAAGC,cAAM,CAAA,MAAA,EAAA,EAAA,KAAK,EAAE,eAAe,EAAA,QAAA,EAAG,OAAO,EAAA,CAAQ,CAC1E,CAAC;AAEF,QAAA,OAAOA,cAAU,CAAA,MAAA,EAAA,EAAA,GAAA,WAAW,EAAG,QAAA,EAAA,KAAK,GAAQ,CAAC;KAC9C;AACD,IAAA,OAAOA,cAAU,CAAA,MAAA,EAAA,EAAA,GAAA,WAAW,EAAG,QAAA,EAAA,QAAQ,GAAQ,CAAC;AAClD,CAAC;AAED,SAAS,YAAY,CAAC,GAAW,EAAA;;;IAG/B,OAAO,GAAG,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;AACtD;;;;"}