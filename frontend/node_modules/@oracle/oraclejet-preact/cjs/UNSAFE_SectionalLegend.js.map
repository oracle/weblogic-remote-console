{"version":3,"file":"UNSAFE_SectionalLegend.js","sources":["../../src/UNSAFE_SectionalLegend/sectionalLegendNavUtils.ts","../../src/UNSAFE_SectionalLegend/getSectionalLegendLayout.ts","../../src/UNSAFE_SectionalLegend/SectionalLegend.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport {\n  ItemFocusDetail,\n  ItemHoverDetail,\n  ItemInfo,\n  LegendItemData,\n  LegendSectionData\n} from '#utils/UNSAFE_visTypes/legend';\n\nfunction getItem<K, D>(itemInfo: ItemInfo, sections: LegendSectionData<K, D>[]) {\n  const { sectionIdx, itemIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    const itemsLength = sections[sections.length - 1].items.length;\n    return sections[sections.length - 1].items[itemsLength - 1];\n  }\n\n  return sections[sectionIdx].items[itemIdx];\n}\n\nfunction getNextItemInfo<K, D>(itemInfo: ItemInfo, sections: LegendSectionData<K, D>[]) {\n  let { itemIdx, sectionIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    return {\n      itemIdx: sections[sections.length - 1].items.length - 1,\n      sectionIdx: sections.length - 1\n    };\n  }\n\n  itemIdx += 1;\n  const itemsLength = sections[sectionIdx].items.length;\n  if (itemIdx >= itemsLength) {\n    if (sectionIdx === sections.length - 1) {\n      itemIdx = itemInfo.itemIdx;\n    } else {\n      sectionIdx += 1;\n      itemIdx = 0;\n    }\n  }\n  const item = sections[sectionIdx].items[itemIdx] as LegendItemData<D>; //TODO : Work for better fix instead of adding 'as LegendItem<D>'\n  if (item?.actionable !== 'off') {\n    return { itemIdx, sectionIdx };\n  }\n  return getNextItemInfo({ itemIdx, sectionIdx }, sections);\n}\n\nfunction getPrevItemInfo<K, D>(itemInfo: ItemInfo, sections: LegendSectionData<K, D>[]) {\n  let { itemIdx, sectionIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    (itemIdx = sections[sections.length - 1].items.length - 1), (sectionIdx = sections.length - 1);\n  }\n  itemIdx -= 1;\n\n  if (itemIdx < 0) {\n    if (sectionIdx === 0) {\n      itemIdx = 0;\n    } else {\n      itemIdx = sections[sectionIdx - 1].items.length - 1;\n      sectionIdx -= 1;\n    }\n  }\n\n  const item = sections[sectionIdx].items[itemIdx] as LegendItemData<D>; //TODO : Work for better fix instead of adding 'as LegendItem<D>'\n  if (item?.actionable !== 'off') {\n    return { itemIdx, sectionIdx };\n  }\n  return getPrevItemInfo({ itemIdx, sectionIdx }, sections);\n}\n\n/**\n * Returns utils functions for navigation in simple sectional legend.\n * @param items\n * @returns\n */\nexport function getSectionalNavUtils<\n  K extends string | number,\n  D extends LegendItemData<K>,\n  S extends LegendSectionData<K, D>\n>(sections: S[]) {\n  return {\n    getItem: (itemInfo: ItemInfo) => {\n      return getItem(itemInfo, sections);\n    },\n    getDetailFromInfo: (itemInfo?: ItemInfo): ItemFocusDetail<K, D> | ItemHoverDetail<K, D> => {\n      if (!itemInfo || sections.length === 0) {\n        return { itemId: undefined, sectionId: undefined, data: undefined };\n      }\n      const item = getItem(itemInfo, sections);\n      const sectionId = sections[itemInfo.sectionIdx].id;\n      return {\n        itemId: item.id,\n        sectionId: sectionId,\n        data: sections[itemInfo.sectionIdx].items[itemInfo.itemIdx]\n      };\n    },\n    getPrevItemInfo: (itemInfo: ItemInfo) => {\n      return getPrevItemInfo(itemInfo, sections);\n    },\n    getNextItemInfo: (itemInfo: ItemInfo) => {\n      return getNextItemInfo(itemInfo, sections);\n    }\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { RefObject } from 'preact';\nimport { LegendItemData, LegendSectionData } from '#utils/UNSAFE_visTypes/legend';\nimport { Font, TextDimensions, useTextDimensions } from '#hooks/PRIVATE_useTextDimensions';\nimport { getSectionGridNums } from '#utils/PRIVATE_legendUtils/legendUtils';\n\ntype Props<K, D> = {\n  width: number;\n  getTextDimensions?: ((textString: string, font?: Font | undefined) => TextDimensions) | undefined;\n  resolvedVars: Record<string, any>;\n  rootRef: RefObject<HTMLDivElement>;\n  orientation?: 'vertical' | 'horizontal';\n  legendFontStylesObj?: Font;\n  symbolWidth?: number;\n  symbolHeight?: number;\n  sections: LegendSectionData<K, D>[];\n};\nexport type LayoutInfo = {\n  totalWidth: number;\n  maxItemWidth: number;\n  maxItemHeight: number;\n  itemsPerRow?: number;\n  isWrapped?: boolean;\n  isSectionWrappedArray?: boolean[];\n  isLegendWrappedArray?: boolean[];\n  itemsPerRowArray: number[];\n};\ntype getTextDimensionsType = NonNullable<\n  NonNullable<ReturnType<typeof useTextDimensions>>['getTextDimensions']\n>;\n\nexport const getSectionalLegendLayoutInfo = <K, D extends LegendItemData<K>>({\n  width,\n  getTextDimensions,\n  resolvedVars,\n  rootRef,\n  orientation,\n  legendFontStylesObj = {},\n  symbolWidth,\n  symbolHeight,\n  sections\n}: Props<K, D>) => {\n  let maxWidth = 0;\n  let maxHeight = 0;\n  let totalWidth = 0;\n  const containerWidth = width;\n\n  if (!rootRef.current || !Object.keys(resolvedVars).length || !getTextDimensions) {\n    return;\n  }\n  const unitLength = parseFloat(resolvedVars['unit']);\n  let currentRowWidth = 0;\n  let maxRowWidth = 0;\n  const isSectionWrappedArray: boolean[] = [];\n  const isLegendWrappedArray: boolean[] = [];\n\n  const itemsPerRowArray: number[] = [];\n  let legendHeight = 0;\n  const paddingTop = 0.75 * unitLength;\n  // const paddingBottom = 1.5 * unitLength;\n\n  sections.forEach((section, index) => {\n    let isSectionWrapped = false;\n    let isLegendWrapped = false;\n    let totalSectionalWidth;\n    let rowsAndCol;\n\n    // getTextDimensions calculating text height as +6 from orignal size\n    const titleDims = getTextDimensions(section.title, { fontWeight: '600' });\n\n    //0.5 is adjustment made as getTextdimensions is not calculating correct height\n    const titleHeight = titleDims.height + paddingTop + 0.5;\n    const titlePaddingStart = 3;\n    const titleWidth = titleDims.width + titlePaddingStart;\n    const { maxItemWidth, maxItemHeight, horizontalSectionWidth } = getMaxWidth<K>(\n      section.items,\n      unitLength,\n      getTextDimensions,\n      legendFontStylesObj,\n      symbolWidth,\n      symbolHeight\n    );\n    let initialNumberOfItemsPerRow = section.items.length;\n    const rowGap = 4 * unitLength;\n\n    if (titleWidth + horizontalSectionWidth < containerWidth) {\n      totalSectionalWidth = horizontalSectionWidth + titleWidth;\n      if (\n        currentRowWidth !== 0 &&\n        currentRowWidth + rowGap + totalSectionalWidth < containerWidth &&\n        !isLegendWrappedArray[index - 1]\n      ) {\n        currentRowWidth = currentRowWidth + totalSectionalWidth + rowGap;\n      } else {\n        currentRowWidth = totalSectionalWidth;\n        legendHeight += Math.max(titleHeight, maxItemHeight);\n        if (index !== 0) {\n          legendHeight += rowGap;\n        }\n      }\n    } else {\n      isSectionWrapped = true;\n      totalSectionalWidth = horizontalSectionWidth;\n      const rowPadding = 0.4 * unitLength;\n      if (horizontalSectionWidth > containerWidth) {\n        isLegendWrapped = true;\n        currentRowWidth = 0;\n        initialNumberOfItemsPerRow = Math.floor(containerWidth / maxItemWidth);\n        rowsAndCol = getSectionGridNums(section.items.length, initialNumberOfItemsPerRow);\n        if (rowsAndCol.itemsPerCol && rowsAndCol.itemsPerRow) {\n          legendHeight += titleHeight + 2 * (maxItemHeight + rowPadding) + 2 * paddingTop;\n          currentRowWidth = rowsAndCol.itemsPerRow * maxItemWidth;\n          if (rowsAndCol.itemsPerCol > 2) {\n            //here padding gets added to top and bottom\n            legendHeight += (rowsAndCol.itemsPerCol - 2) * (maxItemHeight + 2 * rowPadding);\n          }\n        }\n      } else {\n        currentRowWidth = totalSectionalWidth;\n        legendHeight += maxItemHeight + titleHeight + 2 * paddingTop;\n        if (index !== 0) {\n          legendHeight += rowGap;\n        }\n      }\n    }\n\n    maxRowWidth = Math.max(currentRowWidth, maxRowWidth);\n    totalWidth += horizontalSectionWidth;\n    maxWidth = Math.max(maxWidth, maxItemWidth);\n    maxHeight = maxItemHeight;\n    isSectionWrappedArray.push(isSectionWrapped);\n    isLegendWrappedArray.push(isLegendWrapped);\n    itemsPerRowArray.push(orientation === 'vertical' ? 1 : Math.max(1, initialNumberOfItemsPerRow));\n  });\n\n  const legendLayoutInfo = {\n    maxRowWidth: Math.ceil(maxRowWidth),\n    legendHeight,\n    totalWidth,\n    maxItemWidth: Math.min(maxWidth, containerWidth),\n    maxItemHeight: Math.ceil(maxHeight),\n    itemsPerRowArray,\n    isSectionWrappedArray,\n    isLegendWrappedArray\n  };\n  return legendLayoutInfo;\n};\n\n/**\n * Returns maximum of the width among the items in a section of legend also return the width of the entire section.\n * @param items Legend items array\n * @param unitLength Base  element\n * @param getTextDimensions Text width measurement function\n * @param legendFontStylesObj Legend text font style properties object\n * @param symbolWidth Width of legend symbol\n *\n * @returns\n */\nconst getMaxWidth = <K>(\n  items: LegendItemData<K>[],\n  unitLength: number,\n  getTextDimensions: getTextDimensionsType,\n  legendFontStylesObj?: Font,\n  symbolWidth?: number,\n  symbolHeight?: number\n) => {\n  let maxItemWidth = 0;\n  let maxItemHeight = 0;\n  let horizontalSectionWidth = 0;\n  let itemSymbolWidth = 0;\n  let itemSymbolHeight = 0;\n  const symbolPadding = unitLength * 1.5;\n  if (symbolWidth) {\n    itemSymbolWidth = symbolPadding + symbolWidth;\n  } else {\n    //below expression is simplified as, itemSymbolWidth = marginLeft + marginRight + width\n    itemSymbolWidth = 4 * unitLength;\n  }\n  const paddingTop = 1.7 * unitLength;\n  const defaultSymbolHeight = 2.5 * unitLength;\n  if (symbolHeight) {\n    // symbolHeight/defaultSymbolHeight + paddingTopBottom\n    itemSymbolHeight = symbolHeight + paddingTop;\n  } else {\n    itemSymbolHeight = defaultSymbolHeight + paddingTop;\n  }\n  const paddingLeftRight = 2.5 * unitLength;\n\n  items?.forEach((item) => {\n    const legendItem = item as LegendItemData<K>;\n    const { width, height } = getTextDimensions(legendItem.text, legendFontStylesObj);\n\n    //itemTextWidth = paddingLeft + paddingRight + width\n    const itemTextWidth = paddingLeftRight + width;\n    //horizontalSectionWidth = total width of the section\n    horizontalSectionWidth += itemSymbolWidth + itemTextWidth;\n    maxItemWidth = Math.max(maxItemWidth, itemSymbolWidth + itemTextWidth);\n    maxItemHeight = Math.max(maxItemHeight, height, itemSymbolHeight);\n  });\n\n  return { maxItemWidth, maxItemHeight, horizontalSectionWidth };\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.Ì¦\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Ref, VNode } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport { useImperativeHandle, useRef, useState } from 'preact/hooks';\nimport { useVisEvent } from '#hooks/PRIVATE_useVisEvents/useVisEvents';\nimport { getSectionalNavUtils } from './sectionalLegendNavUtils';\nimport { mergeProps } from '#utils/UNSAFE_mergeProps';\nimport { getRandomId } from '#utils/PRIVATE_visLayoutUtils/layoutUtils';\nimport {\n  getDatatipText,\n  getAriaProps,\n  getSectionGridNums,\n  getLegendTextStyle,\n  getIsLegendItemActionable,\n  isEqualItem,\n  getItemInfo,\n  getKeyUpHandler\n} from '#utils/PRIVATE_legendUtils/legendUtils';\nimport { useLegendDatatip } from '#UNSAFE_Legend/useLegendDatatip';\nimport { useItemFocus } from '#hooks/PRIVATE_useVisEvents';\nimport { getSectionalLegendLayoutInfo } from './getSectionalLegendLayout';\nimport { Flex } from '#UNSAFE_Flex';\nimport { styles } from '#PRIVATE_BaseLegend/themes/LegendStyles.css';\nimport { useCssVars } from '#hooks/PRIVATE_useCssVars';\nimport { legendVars } from '#utils/PRIVATE_legendUtils/legendUtils';\nimport { classNames } from '#utils/UNSAFE_classNames';\nimport { useTestId } from '#hooks/UNSAFE_useTestId';\nimport { BaseLegend } from '#PRIVATE_BaseLegend//BaseLegend';\nimport { useSectionalLegendContextMenu } from '#PRIVATE_BaseLegend/useLegendContextMenu';\nimport { SectionalLegendDragStartDetail, SectionalLegendProps } from './sectionalLegend.type';\nimport {\n  ItemFocusDetail,\n  ItemActionDetail,\n  ItemInfo,\n  LegendItemData,\n  LegendSectionData\n} from '#utils/UNSAFE_visTypes/legend';\nimport { useVisTouchResponse } from '#hooks/PRIVATE_useVisTouchResponse';\nimport { merge } from '@oracle/oraclejet-internal-utilities/stringUtils';\nimport { useTextDimensions } from '#hooks/PRIVATE_useTextDimensions';\nimport { TrackResizeContainer } from '#UNSAFE_TrackResizeContainer';\nimport { useLegendDnd } from '#hooks/PRIVATE_useLegendDnD';\nimport { styles as VisDndStyles } from '#hooks/PRIVATE_useVisDnd/themes/VisDndStyles.css';\nimport { LegendText } from '#PRIVATE_BaseLegend/LegendText';\n\nexport type SizeHandle = {\n  _getPreferredSize: (\n    _width: number,\n    _height: number\n  ) => { width: number; height: number } | undefined;\n};\n\ntype ForwardRefSectionalLegend = <\n  K extends string | number,\n  D extends LegendItemData<K>,\n  S extends LegendSectionData<K, D>\n>(\n  props: SectionalLegendProps<K, D, S> & { ref?: Ref<SizeHandle> }\n) => VNode | null;\n\n/**\n * A Sectional Legend allows grouping of legend items in sections with a specific title.\n */\nexport const SectionalLegend = forwardRef(\n  <K extends string | number, D extends LegendItemData<K>, S extends LegendSectionData<K, D>>(\n    {\n      orientation = 'horizontal',\n      sectionTitleHAlign = 'start',\n      sections,\n      isReadOnly = true,\n      onItemAction,\n      onItemHover,\n      onItemFocus,\n      testId,\n      contextMenuConfig,\n      hideAndShowBehavior = 'off',\n      hoverBehavior = 'none',\n      valign = 'top',\n      halign = 'start',\n      ...props\n    }: SectionalLegendProps<K, D, S>,\n    ref: Ref<SizeHandle> = null\n  ) => {\n    return (\n      <TrackResizeContainer\n        width={'100%'}\n        height={'100%'}\n        class={classNames([\n          styles.flexStyle,\n          styles[`${halign}HAlign`],\n          styles[`${valign}VAlign`]\n        ])}>\n        {function _(width, _height) {\n          const testIdProps = useTestId(testId);\n          const rootRef = useRef<HTMLDivElement>(null);\n          const isTestEnv = testIdProps['data-testid'] !== undefined;\n          const rootDimsRef = useRef<DOMRect>();\n          const { resolvedVars, cssContent } = useCssVars(legendVars);\n\n          const { getItem, getDetailFromInfo, getPrevItemInfo, getNextItemInfo } =\n            getSectionalNavUtils<K, D, S>(sections);\n          const legendFontStylesObj = getLegendTextStyle(\n            {\n              fontStyle: props.textFontStyle,\n              fontSize: props.textFontSize?.toString(),\n              fontWeight: props.textFontWeight?.toString(),\n              fontFamily: props.textFontFamily\n            },\n            resolvedVars\n          );\n          const { textMeasureContent, getTextDimensions } = useTextDimensions();\n\n          const isLegendItemActionable = getIsLegendItemActionable(sections, isReadOnly, true);\n          const hasData = sections.length > 0;\n\n          const layoutInfo = getSectionalLegendLayoutInfo({\n            width,\n            rootRef,\n            getTextDimensions,\n            resolvedVars,\n            orientation,\n            legendFontStylesObj,\n            symbolWidth: props.symbolWidth,\n            symbolHeight: props.symbolHeight,\n            sections\n          });\n          const { touchResponse, touchResponseStyle } = useVisTouchResponse({ type: 'touchStart' });\n\n          const {\n            focusedItemInfo,\n            hoveredItemInfo,\n            onContextMenuDismissed,\n            activeId,\n            eventsProps\n          } = useVisEvent<ItemInfo, ItemActionDetail<K, D>, ItemFocusDetail<K, D>, D>(\n            touchResponse,\n            !isReadOnly,\n            isLegendItemActionable,\n            getKeyUpHandler,\n            getDetailFromInfo,\n            getPrevItemInfo,\n            getNextItemInfo,\n            onItemAction,\n            onItemHover,\n            onItemFocus,\n            isEqualItem,\n            getItemInfo,\n            { itemIdx: 0, sectionIdx: 0 }\n          );\n\n          const { focusedItemRef } = useItemFocus(focusedItemInfo);\n          const text = getDatatipText(sections, getItem, focusedItemInfo, hoveredItemInfo);\n          const [datatipDisabled, setDatatipDisabled] = useState(false);\n          const {\n            datatipContent,\n            datatipProps: { 'aria-describedby': datatipAriaDescribedby, ...datatipProps }\n          } = useLegendDatatip({\n            text,\n            rootDimsRef,\n            focusedItemInfo,\n            focusedItemRef,\n            touchResponse,\n            isDisabled: datatipDisabled\n          });\n          const ariaProps = getAriaProps<K>(\n            isReadOnly,\n            props['aria-label'],\n            props.hiddenIds,\n            merge([props['aria-describedby'], datatipAriaDescribedby]),\n            props['aria-labelledby']\n          );\n\n          const { contextMenuContent, contextMenuProps } = useSectionalLegendContextMenu<K, D, S>({\n            rootRef,\n            contextMenuConfig: hasData ? contextMenuConfig : undefined,\n            focusedItemInfo,\n            sections,\n            isReadOnly,\n            onContextMenuDismissed\n          });\n\n          const [dragOver, setDragOver] = useState<boolean>();\n          const { draggable, dndProps, dndContent } = useLegendDnd<\n            K,\n            D,\n            SectionalLegendDragStartDetail<D>,\n            S\n          >({\n            onDrag: props.onDrag,\n            onDragStart: props.onDragStart,\n            onDragEnd: props.onDragEnd,\n            onDragEnter: props.onDragEnter,\n            onDragLeave: props.onDragLeave,\n            onDragOver: props.onDragOver,\n            onDrop: props.onDrop,\n            sections,\n            setDragOver,\n            setDatatipDisabled,\n            itemDraggable: props.itemDraggable\n          });\n\n          const mergedProps = mergeProps(eventsProps, datatipProps, contextMenuProps, dndProps);\n          const titleStyle = {\n            fontFamily: props.sectionTitleFontFamily,\n            fontSize: props.sectionTitleFontSize,\n            color: props.sectionTitleColor,\n            fontStyle: props.sectionTitleFontStyle,\n            fontWeight: props.sectionTitleFontWeight,\n            textDecoration: props.sectionTitleTextDecoration\n          };\n          const { sectionalLegendBaseStyles, renderedLegendStyle } = styles;\n          const isHoriz = orientation === 'horizontal';\n\n          useImperativeHandle(\n            ref,\n            () => ({\n              _getPreferredSize: (_width: number, _height: number) => {\n                const legendLayoutInfo = getSectionalLegendLayoutInfo({\n                  width: _width,\n                  getTextDimensions,\n                  resolvedVars,\n                  rootRef,\n                  orientation,\n                  legendFontStylesObj,\n                  symbolWidth: props.symbolWidth,\n                  symbolHeight: props.symbolHeight,\n                  sections\n                });\n                if (legendLayoutInfo) {\n                  return {\n                    width: legendLayoutInfo?.maxRowWidth,\n                    height: legendLayoutInfo?.legendHeight\n                  };\n                } else {\n                  return;\n                }\n              }\n            }),\n            [getTextDimensions, legendFontStylesObj, resolvedVars]\n          );\n\n          return (\n            <div\n              ref={rootRef}\n              tabIndex={isReadOnly ? undefined : 0}\n              role=\"application\"\n              class={classNames([\n                sectionalLegendBaseStyles,\n                renderedLegendStyle,\n                dragOver\n                  ? VisDndStyles.dndDragOverHTMLStyle\n                  : dragOver === false\n                  ? VisDndStyles.dndRejectedStyle\n                  : undefined\n              ])}\n              draggable={draggable}\n              style={touchResponseStyle}\n              {...testIdProps}\n              {...ariaProps}\n              {...mergedProps}\n              aria-activedescendant={activeId}>\n              <Flex direction={isHoriz ? 'row' : 'column'} wrap={'wrap'} gap={'4x'}>\n                {sections.map((section: S, index: number) => {\n                  const labelledById = !isReadOnly ? getRandomId() : '';\n                  const isWrappedSection = layoutInfo\n                    ? layoutInfo.isSectionWrappedArray[index]\n                    : false;\n                  const flexDirection = !isHoriz || isWrappedSection ? 'column' : 'row';\n                  const alignItems = !isHoriz || isWrappedSection ? 'start' : 'center';\n                  const { itemsPerCol, itemsPerRow } = getSectionGridNums(\n                    section.items.length,\n                    layoutInfo?.itemsPerRowArray[index]\n                  );\n                  return (\n                    <Flex\n                      align={alignItems}\n                      direction={flexDirection}\n                      maxWidth={'100%'}\n                      justify={'start'}\n                      wrap=\"wrap\">\n                      <LegendText\n                        text={section.title}\n                        {...titleStyle}\n                        type=\"title\"\n                        id={labelledById}\n                        align={sectionTitleHAlign}\n                      />\n                      <BaseLegend\n                        {...props}\n                        focusedItemRef={focusedItemRef}\n                        labelledBy={labelledById}\n                        sectionIdx={index}\n                        items={section.items}\n                        orientation={orientation}\n                        itemsPerRow={itemsPerRow}\n                        itemsPerCol={itemsPerCol}\n                        itemWidth={\n                          layoutInfo?.isLegendWrappedArray[index]\n                            ? layoutInfo?.maxItemWidth\n                            : undefined\n                        }\n                        isReadOnly={isReadOnly}\n                        focusedItemInfo={focusedItemInfo}\n                        hoveredItemInfo={hoveredItemInfo}\n                        activeId={activeId}\n                        hideAndShowBehavior={hideAndShowBehavior}\n                        hoverBehavior={hoverBehavior}\n                        isTestEnv={isTestEnv}\n                      />\n                    </Flex>\n                  );\n                })}\n              </Flex>\n              {datatipContent}\n              {textMeasureContent}\n              {cssContent}\n              {contextMenuContent}\n              {dndContent}\n            </div>\n          );\n        }}\n      </TrackResizeContainer>\n    );\n  }\n) as ForwardRefSectionalLegend;\n"],"names":["getSectionGridNums","forwardRef","_jsx","TrackResizeContainer","classNames","styles","useTestId","useRef","useCssVars","legendVars","getLegendTextStyle","useTextDimensions","getIsLegendItemActionable","useVisTouchResponse","useVisEvent","getKeyUpHandler","isEqualItem","getItemInfo","useItemFocus","getDatatipText","useState","useLegendDatatip","getAriaProps","merge","useSectionalLegendContextMenu","useLegendDnd","mergeProps","useImperativeHandle","_jsxs","VisDndStyles","Flex","getRandomId","LegendText","BaseLegend"],"mappings":"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"}