{"version":3,"file":"usePressClick-421494df.js","sources":["../../src/hooks/UNSAFE_usePressClick/usePressClick.ts"],"sourcesContent":["import { useCallback } from 'preact/hooks';\n\ntype PressOptions = {\n  isDisabled?: boolean;\n};\n\nconst DefaultSettings = {\n  isDisabled: false\n};\n\n/**\n * Returns a click handler that can make a target element either clickable or keyboard pressable.\n *\n * @param onPressHandler function\n * @param isDisabled boolean\n * @returns\n */\n\nexport function usePressClick(\n  onPressHandler: (event: Event) => void,\n  settings: PressOptions = DefaultSettings\n): { pressProps: Record<string, any> } {\n  // Not adding any detection of repeat keyboard triggering, such as onKeyDown setting\n  // state to gate dispatch, to try to keep changes as basic as possible for now.\n  const onClick = useCallback(\n    (event: Event) => {\n      // See note above about why propagation is stopped: to prevent nested component bubbling clicks issue\n      event.stopPropagation();\n      // in legacy, we would check event.detail <= 1 to fire only once on multi-clicks,\n      // however, for now keeping this simple.\n      onPressHandler(event);\n    },\n    [onPressHandler]\n  );\n\n  const pressProps = settings?.isDisabled ? {} : { onClick };\n\n  return {\n    pressProps\n  };\n}\n"],"names":["useCallback"],"mappings":";;;;;AAMA,MAAM,eAAe,GAAG;AACtB,IAAA,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;AAMG;SAEa,aAAa,CAC3B,cAAsC,EACtC,WAAyB,eAAe,EAAA;;;AAIxC,IAAA,MAAM,OAAO,GAAGA,iBAAW,CACzB,CAAC,KAAY,KAAI;;QAEf,KAAK,CAAC,eAAe,EAAE,CAAC;;;QAGxB,cAAc,CAAC,KAAK,CAAC,CAAC;AACxB,KAAC,EACD,CAAC,cAAc,CAAC,CACjB,CAAC;AAEF,IAAA,MAAM,UAAU,GAAG,QAAQ,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;IAE3D,OAAO;QACL,UAAU;KACX,CAAC;AACJ;;;;"}