{"version":3,"file":"ProgressButtonLabelLayout-689a7a8d.js","sources":["../../src/UNSAFE_ProgressButtonLabelLayout/AdjustedProgressCircle.tsx","../../src/UNSAFE_ProgressButtonLabelLayout/ProgressButtonLabelLayout.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ProgressCircle } from '../UNSAFE_ProgressCircle';\nimport { withThemeProps } from '#hoc/UNSAFE_withThemeProps';\nimport { View } from '#UNSAFE_View';\nimport { useColorScheme } from '#hooks/UNSAFE_useColorScheme';\n\nexport type Props = {\n  /**\n   * This indicates that the Loading indicator should be rendered in contrast.\n   */\n  isLoadingContrast?: boolean;\n};\n/**\n * AdjustedProgressCircle provides a Progress Circle that can be rendered on a dark background as needed.\n * @param param0\n * @returns\n */\nexport function AdjustedProgressCircle({ isLoadingContrast = false }: Props) {\n  const ViewWithThemeProps = withThemeProps(View);\n\n  const currentColorScheme = useColorScheme();\n  const newColorScheme = !currentColorScheme || currentColorScheme === 'light' ? 'dark' : 'light';\n\n  return isLoadingContrast ? (\n    <ViewWithThemeProps colorScheme={newColorScheme}>\n      <ProgressCircle size=\"sm\" value=\"indeterminate\" />\n    </ViewWithThemeProps>\n  ) : (\n    <ProgressCircle size=\"sm\" value=\"indeterminate\" />\n  );\n}\n\nAdjustedProgressCircle.displayName = 'AdjustedProgressCircle';\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren, ComponentProps } from 'preact';\nimport { BaseButton } from '../UNSAFE_BaseButton';\nimport { useProgressButtonLabelLayoutTheme } from '#hooks/PRIVATE_useProgressButtonLabelLayoutTheme';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { AdjustedProgressCircle } from './AdjustedProgressCircle';\nimport { useState } from 'preact/hooks';\nimport { HiddenAccessible } from '../UNSAFE_HiddenAccessible';\n\nexport type Props = {\n  /**\n   *The default slot is the button's text label. The oj-c-button element accepts plain text or DOM nodes as children for the default slot.\"\n   */\n  children?: ComponentChildren;\n\n  /**\n   * The startIcon is the button's start icon.\n   */\n  startIcon?: ComponentChildren;\n\n  /**\n   * Styling can be used for customizing icon layout by limiting padding (\"embedded\")\n   * The label can fill available width (\"fill\").\n   */\n  styling?: 'default' | 'embedded' | 'fill';\n\n  /**\n   * The size indicates how large the button is rendered.\n   */\n  size?: ComponentProps<typeof BaseButton>['size'];\n\n  /**\n   * Display indicates whether the label, the icons, or all elements should be rendered by the button.\n   */\n  display?: 'icons' | 'label' | 'all';\n\n  /**\n   * Specifies that a quick indeterminate action is taking place, and a progress circle should be rendered.\n   */\n  isLoading?: boolean;\n\n  /**\n   * Specifies a label to be added for accessibility during progress.\n   */\n  accessibleLoadingLabel?: string;\n\n  /**\n   * Specifies a label to be added for accessibility upon completion of progress.\n   */\n  accessibleLoadedLabel?: string;\n\n  /**\n   * This indicates that the Loading indicator should be rendered in contrast.\n   */\n  isLoadingContrast?: boolean;\n};\n/**\n * ProgressButtonLabelLayout provides the layout for progress button labels.\n * @param param0\n * @returns\n */\nexport function ProgressButtonLabelLayout({\n  size = 'md',\n  display = 'all',\n  styling = 'default',\n  isLoadingContrast = false,\n  isLoading = false,\n  children,\n  startIcon,\n  accessibleLoadedLabel,\n  accessibleLoadingLabel\n}: Props) {\n  const {\n    startIconClasses,\n    labelClasses,\n    labelStyles,\n    progressIconClasses,\n    containerClasses,\n    isShowIcons,\n    isShowText,\n    hasTextStartIcon\n  } = useProgressButtonLabelLayoutTheme({\n    display,\n    size,\n    styling,\n    isLoading,\n    startIcon,\n    children\n  });\n\n  const isLabelOnly = display === 'label' || !startIcon;\n  const mergedContainerClasses = classNames([\n    containerClasses,\n    isLoading ? progressIconClasses : undefined\n  ]);\n\n  const [loaded, setLoaded] = useState<boolean | undefined>(false);\n  const [loading, setLoading] = useState<boolean | undefined>(false);\n  if (isLoading && !loaded) {\n    setLoading(true);\n  }\n  if (!isLoading && loading) {\n    setLoaded(true);\n    setLoading(false);\n    setTimeout(() => {\n      setLoaded(false);\n    }, 500);\n  }\n\n  return (\n    <span class={mergedContainerClasses}>\n      {isShowIcons && startIcon && (\n        <span class={startIconClasses} aria-hidden={true}>\n          {isLoading ? <AdjustedProgressCircle isLoadingContrast={isLoadingContrast} /> : startIcon}\n        </span>\n      )}\n      {isShowText && children && (\n        <span aria-hidden={true} class={isLabelOnly ? undefined : labelClasses}>\n          {' '}\n          {children}{' '}\n        </span>\n      )}\n      {isShowText && children && isLoading && !hasTextStartIcon && (\n        <span class={labelStyles['floatingIcon']} aria-hidden={true}>\n          <AdjustedProgressCircle isLoadingContrast={isLoadingContrast} />\n        </span>\n      )}\n      {accessibleLoadedLabel ? (\n        <span aria-live=\"assertive\">\n          <HiddenAccessible>\n            {loaded ? accessibleLoadedLabel : isLoading ? accessibleLoadingLabel : undefined}\n          </HiddenAccessible>\n        </span>\n      ) : undefined}\n    </span>\n  );\n}\n\nProgressButtonLabelLayout.displayName = 'ProgressButtonLabelLayout';\n"],"names":["withThemeProps","View","useColorScheme","_jsx","ProgressCircle","useProgressButtonLabelLayoutTheme","classNames","useState","_jsxs","HiddenAccessible"],"mappings":"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"}