{"version":3,"file":"UNSAFE_LineAreaChart.js","sources":["../../src/UNSAFE_LineAreaChart/LineAreaChart.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { LineAreaChartProps, LineAreaItem } from './lineAreaChart.types';\nimport {\n  findNearestDataPoint,\n  getStartAndEndAxesOffset\n} from '#utils/PRIVATE_chartUtils/layoutUtils';\nimport { AreaSeries } from '#PRIVATE_LineAreaComponents/AreaSeries';\nimport { getCumulativeSeries, getMarkers, getSeriesData } from '#utils/PRIVATE_chartUtils/utils';\nimport { MarkersWithLabel } from '#PRIVATE_Chart/MarkersWithLabel';\nimport { getLineAreaChartNavUtil } from '#utils/PRIVATE_chartUtils/navUtils';\nimport { Chart } from '#PRIVATE_Chart';\nimport { Scale, TimeAxisProps } from '#utils/UNSAFE_visTypes/chart';\nimport { useUser } from '#hooks/UNSAFE_useUser';\nimport { getColorRamp } from '#utils/UNSAFE_visUtils';\nimport { LineSeries } from '#PRIVATE_LineAreaComponents/LineSeries';\nimport { Point } from '#utils/PRIVATE_visSVGUtils';\nimport { getLineAreaSegments } from '#utils/PRIVATE_chartUtils/utils';\nimport { colorSchemeVars } from '@oracle/oraclejet-internal-theme-contract/themeContract.css';\nimport { getItemColor, getMarkerType } from '#utils/PRIVATE_chartUtils/dataStyleUtils';\nimport { getLineAreaChartItemPosition } from '#PRIVATE_LineAreaComponents/utils/chartUtils';\n\nconst LINE_WITH_AREA_OPACITY = 0.2;\n\n/**\n * The LineAreaChart displays information graphically using lines and filled areas, making relationships among the data easier to understand.\n */\nexport function LineAreaChart<K extends string | number, D extends LineAreaItem<K>>({\n  width,\n  height,\n  selectedIds = [],\n  hiddenIds = [],\n  highlightedIds,\n  hideAndShowBehavior = 'none',\n  orientation = 'vertical',\n  yAxis,\n  y2Axis,\n  series,\n  groups,\n  isStacked = false,\n  getDataItem,\n  selectionMode = 'none',\n  drilling = 'off',\n  type = 'line',\n  overview = 'off',\n  dataLabelEffect = 'outline',\n  ...props\n}: LineAreaChartProps<K, D>) {\n  const { direction, forcedColors } = useUser();\n  const isHighContrast = forcedColors === 'active';\n  const isTestEnv = props.testId !== undefined;\n  const isRtl = direction === 'rtl';\n  const isLog = yAxis?.scale === 'log';\n  const timeAxisType = (props.xAxis as TimeAxisProps)?.timeAxisType;\n  const hiddenSet = new Set(hiddenIds);\n  const selectedSet = new Set(selectedIds);\n  const highlightedSet = new Set(highlightedIds);\n  const isHoriz = orientation === 'horizontal';\n  const colors = getColorRamp();\n  let renderedSeries = isStacked\n    ? getCumulativeSeries(series.length, groups.length, getDataItem, hiddenSet, isLog)\n    : getSeriesData(series?.length, groups?.length, getDataItem, hiddenSet, isLog);\n\n  const renderedGetDataItem = (seriesIndex: number, groupIndex: number): D | undefined => {\n    if (!isStacked) return getDataItem(seriesIndex, groupIndex);\n    return {\n      ...getDataItem(seriesIndex, groupIndex),\n      value: renderedSeries[seriesIndex][groupIndex]\n    } as D;\n  };\n\n  const getGapRatio = () => {\n    return 1;\n  };\n\n  const getNextChartItemFunc = (startIndex: number, endIndex: number) => {\n    // TODO: JET-71332\n    //@ts-ignore\n    return getLineAreaChartNavUtil<D>(\n      getDataItem,\n      series.length,\n      startIndex,\n      endIndex,\n      isStacked,\n      isRtl,\n      isHoriz\n    );\n  };\n\n  const getDataItemPos = (xScale: Scale, yScale: Scale, y2Scale: Scale) => {\n    return (seriesIndex: number, groupIndex: number) => {\n      const isAssociatedToY2 = series[seriesIndex].associatedYAxis === 'y2';\n      return getLineAreaChartItemPosition(\n        seriesIndex,\n        groupIndex,\n        renderedSeries,\n        getDataItem,\n        groups,\n        isHoriz,\n        xScale,\n        isAssociatedToY2 ? y2Scale : yScale,\n        timeAxisType\n      );\n    };\n  };\n\n  const getMarkerColorAndType = (seriesIndex: number, groupIndex: number) => {\n    return {\n      color: getItemColor(seriesIndex, groupIndex, series, getDataItem),\n      type: getMarkerType(seriesIndex, groupIndex, getDataItem)\n    };\n  };\n\n  const findNearest = (xScale: Scale, yScale: Scale, y2Scale: Scale) => {\n    const getSeriesDataInfo = () => {\n      return {\n        offset: 0,\n        dataWidth: 0\n      };\n    };\n\n    const getYCoord = (value: number, yScale: Scale) => {\n      return yScale.transform(value);\n    };\n\n    return findNearestDataPoint<K, D>(\n      series,\n      groups,\n      xScale,\n      yScale,\n      renderedGetDataItem,\n      isStacked,\n      getSeriesDataInfo,\n      getYCoord,\n      isLog,\n      0,\n      hiddenSet,\n      timeAxisType,\n      y2Scale\n    );\n  };\n  const { hasCenteredSeries, hasUncenteredSeries } = series.reduce(\n    (acc, s) => {\n      return {\n        hasCenteredSeries:\n          acc.hasCenteredSeries ||\n          s.lineType === 'centeredSegmented' ||\n          s.lineType === 'centeredStepped',\n        hasUncenteredSeries:\n          acc.hasUncenteredSeries || s.lineType === 'segmented' || s.lineType === 'stepped'\n      };\n    },\n    { hasCenteredSeries: false, hasUncenteredSeries: false }\n  );\n\n  const getOffset = (groupCount: number) => {\n    return getStartAndEndAxesOffset(hasCenteredSeries, hasUncenteredSeries, isHoriz, groupCount);\n  };\n\n  const markers = getMarkers();\n  const areaOpacity = type === 'lineWithArea' ? LINE_WITH_AREA_OPACITY : 1;\n  const isAreaRendered = type === 'area' || type === 'lineWithArea';\n  const isContrastLineNeeded = type === 'area';\n  const allLineSegmentCoords: Point[][] = [];\n  return (\n    <Chart\n      width={width}\n      height={height}\n      selectedIds={selectedSet}\n      hiddenIds={hiddenIds}\n      hideAndShowBehavior={hideAndShowBehavior}\n      orientation={orientation}\n      yAxis={yAxis}\n      y2Axis={y2Axis}\n      series={series}\n      groups={groups}\n      selectionMode={selectionMode}\n      drilling={drilling}\n      isStacked={isStacked}\n      getDataItem={getDataItem}\n      findNearest={findNearest}\n      getDataItemPos={getDataItemPos}\n      getMarkerInfo={getMarkerColorAndType}\n      renderGridLinesInFront={isAreaRendered}\n      getNavUtil={getNextChartItemFunc}\n      getGapRatio={getGapRatio}\n      getStartAndEndAxesOffset={getOffset}\n      isRtl={isRtl}\n      overview={overview}\n      defaultOverviewContentRenderer={() => {\n        return (\n          <OverviewLineAreaChart\n            series={series}\n            groups={groups}\n            getDataItem={getDataItem}\n            type={type}\n          />\n        );\n      }}\n      {...props}>\n      {({\n        getItemAriaLabel,\n        groupsInfo,\n        xStartIndex,\n        xEndIndex,\n        xScale,\n        yScale,\n        y2Scale,\n        activeId,\n        focusedItemInfo,\n        hoveredItemInfo,\n        isPointInsideMarquee,\n        defaultFontSize,\n        getTextDimensions,\n        plotAreaClipPathId,\n        axisStepWidth\n      }) => {\n        const leafGroups = groupsInfo.map(({ item }) => item);\n        renderedSeries = isStacked\n          ? getCumulativeSeries(series.length, leafGroups.length, getDataItem, hiddenSet, isLog)\n          : getSeriesData(series?.length, leafGroups?.length, getDataItem, hiddenSet, isLog);\n        return (\n          <>\n            {renderedSeries.map((lineAreaSeries, index) => {\n              if (lineAreaSeries.length === 0) {\n                /* TODO: need a better way to handle when a series is hidden. */\n                return;\n              }\n              const seriesItem = series[index];\n              const isAssociatedToY2 = seriesItem.associatedYAxis === 'y2';\n              const lineSegmentCoords: Point[][] = getLineAreaSegments<K, D>(\n                isAssociatedToY2 ? y2Scale : yScale,\n                xScale,\n                lineAreaSeries,\n                xStartIndex,\n                xEndIndex,\n                isLog,\n                leafGroups,\n                index,\n                renderedGetDataItem,\n                timeAxisType\n              );\n              allLineSegmentCoords[index] = lineSegmentCoords[0];\n              const isBottomSegmentCurved =\n                seriesItem.lineType === 'curved' &&\n                isStacked &&\n                renderedSeries.length > 1 &&\n                index > 0;\n\n              const isHighlighted =\n                highlightedIds === undefined ||\n                highlightedIds.length === 0 ||\n                highlightedSet.has(seriesItem.id);\n\n              const prevCoords =\n                isStacked && index != 0\n                  ? allLineSegmentCoords.reduce((prevValue, newValue, j) => {\n                      // find the index i such that i < index, and series i  has at least\n                      // one or more data item unhidden. Only such series will can be\n                      // used as bottomCoord for current series. Otherwise we have to use\n                      // baseline coord\n                      if (j >= index) {\n                        return prevValue;\n                      }\n                      if (newValue.length > 0) {\n                        return j;\n                      }\n                      return prevValue;\n                    }, 0)\n                  : undefined;\n\n              return (\n                <>\n                  {isAreaRendered && (\n                    <AreaSeries\n                      yScale={isAssociatedToY2 ? y2Scale : yScale}\n                      lineType={seriesItem.lineType}\n                      color={seriesItem.areaColor || colors[index % colors.length]}\n                      isHorizontal={isHoriz}\n                      areaColorOpacity={areaOpacity}\n                      isBottomSegmentCurved={isBottomSegmentCurved}\n                      bottomCoords={\n                        prevCoords !== undefined &&\n                        allLineSegmentCoords[prevCoords].some((value) => value != null)\n                          ? allLineSegmentCoords[prevCoords]\n                          : undefined\n                      }\n                      lineSegments={lineSegmentCoords}\n                      isLog={isLog}\n                      isHighlighted={isHighlighted}\n                      seriesIndex={index}\n                      groupWidth={axisStepWidth}\n                      isRtl={isRtl}\n                      timeAxisType={timeAxisType}\n                      plotAreaClipPathId={plotAreaClipPathId}\n                    />\n                  )}\n                  <LineSeries\n                    lineType={seriesItem.lineType}\n                    /* TODO: confirm with UX if this is contrastLine (changes depending on dark/light mode) or always white. \n                        It's always white in legacy.*/\n                    lineColor={\n                      isContrastLineNeeded ? colorSchemeVars.dvt.contrastLine : seriesItem.lineColor\n                    }\n                    /* The area generated in legacy are bit apart and not touching when stacked. Preact areas are a bit closer than legacy when curved. \n                      Increased the contrast linewidth (to 2.5 from legacy 1.25) to give legacy visual treatment.\n                      TODO: investivage why legacy areas are not touching. maybe we want to do the same in preact svg utils that\n                      generates this curve.\n                     */\n                    lineWidth={\n                      isContrastLineNeeded ? (isStacked ? 2.5 : 1.25) : seriesItem.lineWidth\n                    }\n                    lineStyle={seriesItem.lineStyle}\n                    color={seriesItem.lineColor || colors[index % colors.length]}\n                    lineSegmentCoords={lineSegmentCoords}\n                    isHorizontal={isHoriz}\n                    isHighlighted={isHighlighted}\n                    seriesIndex={index}\n                    groupWidth={axisStepWidth}\n                    isRtl={isRtl}\n                    timeAxisType={timeAxisType}\n                    plotAreaClipPathId={plotAreaClipPathId}\n                  />\n                  {\n                    /*for non stacked charts, markers should render in the order of series.\n                     some markers might get hidden behind area but this preserves the legacy behavior. */\n                    !isStacked && (\n                      <MarkersWithLabel\n                        yScale={isAssociatedToY2 ? y2Scale : yScale}\n                        xScale={xScale}\n                        groups={leafGroups}\n                        series={seriesItem}\n                        timeAxisType={timeAxisType}\n                        color={\n                          seriesItem.lineColor ||\n                          seriesItem.areaColor ||\n                          colors[\n                            index % colors.length\n                          ] /* TODO : make this use getItemColor function from dataStyleUtils. */\n                        }\n                        seriesIndex={index}\n                        startIndex={xStartIndex}\n                        endIndex={xEndIndex}\n                        markerType={markers[index % markers.length]}\n                        orientation={orientation}\n                        isLog={isLog}\n                        activeId={activeId}\n                        getDataItem={getDataItem}\n                        isPointInsideMarquee={isPointInsideMarquee}\n                        selectedIds={selectedSet}\n                        highlightedIds={highlightedIds !== undefined ? highlightedSet : undefined}\n                        focusedItemIndex={\n                          focusedItemInfo.seriesIndex === index &&\n                          focusedItemInfo.isFocusVisible &&\n                          !(props.isDataCursorEnabled && props.dataCursorStyle?.isMarkerDisplayed)\n                            ? focusedItemInfo.groupIndex\n                            : undefined\n                        }\n                        hoveredItemIndex={\n                          hoveredItemInfo?.isCurrent && hoveredItemInfo.seriesIndex === index\n                            ? hoveredItemInfo.groupIndex\n                            : undefined\n                        }\n                        isSelectionEnabled={\n                          selectionMode === 'single' || selectionMode === 'multiple'\n                        }\n                        isDrillEnabled={drilling === 'on'}\n                        defaultFontSize={defaultFontSize}\n                        dataLabelEffect={dataLabelEffect}\n                        isHighContrast={isHighContrast}\n                        isTestEnv={isTestEnv}\n                        getTextDimensions={getTextDimensions}\n                        getItemAriaLabel={getItemAriaLabel}\n                      />\n                    )\n                  }\n                </>\n              );\n            })}\n            {isStacked &&\n              renderedSeries.map((lineAreaSeries, index) => {\n                if (lineAreaSeries.length === 0) {\n                  /* TODO: need a better way to handle when a series is hidden.*/\n                  return;\n                }\n                const seriesItem = series[index];\n                const isAssociatedToY2 = seriesItem.associatedYAxis === 'y2';\n                return (\n                  <MarkersWithLabel\n                    yScale={isAssociatedToY2 ? y2Scale : yScale}\n                    series={series[index]}\n                    xScale={xScale}\n                    groups={leafGroups}\n                    timeAxisType={timeAxisType}\n                    color={\n                      seriesItem.lineColor || seriesItem.areaColor || colors[index % colors.length]\n                    }\n                    seriesIndex={index}\n                    isPointInsideMarquee={isPointInsideMarquee}\n                    startIndex={xStartIndex}\n                    endIndex={xEndIndex}\n                    markerType={markers[index % markers.length]}\n                    orientation={orientation}\n                    isLog={isLog}\n                    activeId={activeId}\n                    getDataItem={renderedGetDataItem}\n                    selectedIds={selectedSet}\n                    focusedItemIndex={\n                      focusedItemInfo.seriesIndex === index && focusedItemInfo.isFocusVisible\n                        ? focusedItemInfo.groupIndex\n                        : undefined\n                    }\n                    hoveredItemIndex={\n                      hoveredItemInfo?.isCurrent && hoveredItemInfo.seriesIndex === index\n                        ? hoveredItemInfo.groupIndex\n                        : undefined\n                    }\n                    isSelectionEnabled={selectionMode === 'single' || selectionMode === 'multiple'}\n                    isDrillEnabled={drilling === 'on'}\n                    defaultFontSize={defaultFontSize}\n                    dataLabelEffect={dataLabelEffect}\n                    isHighContrast={isHighContrast}\n                    isTestEnv={isTestEnv}\n                    getTextDimensions={getTextDimensions}\n                    getItemAriaLabel={getItemAriaLabel}\n                  />\n                );\n              })}\n          </>\n        );\n      }}\n    </Chart>\n  );\n}\n\nfunction OverviewLineAreaChart<K extends string | number, D extends LineAreaItem<K>>(\n  props: LineAreaChartProps<K, D>\n) {\n  return (\n    <LineAreaChart\n      datatip={() => ({ content: '' })}\n      zoomAndScroll=\"off\"\n      overview=\"off\"\n      plotArea={{\n        yMajorTick: {\n          isRendered: false\n        }\n      }}\n      xAxis={{\n        tickLabel: {\n          autoRotate: false,\n          // @ts-ignore\n          isRendered: props.xAxis?.timeAxisType ? true : false\n        }\n      }}\n      series={props.series}\n      groups={props.groups}\n      getDataItem={props.getDataItem}\n      yAxis={{\n        tickLabel: {\n          isRendered: false\n        }\n      }}\n      type={props.type}\n    />\n  );\n}\n"],"names":["useUser","getColorRamp","getCumulativeSeries","getSeriesData","getLineAreaChartNavUtil","getLineAreaChartItemPosition","getItemColor","getMarkerType","findNearestDataPoint","getStartAndEndAxesOffset","getMarkers","_jsx","Chart","_jsxs","_Fragment","getLineAreaSegments","AreaSeries","LineSeries","colorSchemeVars","MarkersWithLabel"],"mappings":"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"}