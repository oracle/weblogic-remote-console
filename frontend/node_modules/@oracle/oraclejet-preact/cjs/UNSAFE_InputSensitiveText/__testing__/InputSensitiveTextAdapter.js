/* @oracle/oraclejet-preact: undefined */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var UNSAFE_TestAdapter = require('@oracle/oraclejet-testing/UNSAFE_TestAdapter');
var UNSAFE_Driver = require('@oracle/oraclejet-testing/UNSAFE_Driver');
var UNSAFE_Locators = require('@oracle/oraclejet-testing/UNSAFE_Locators');

class InputSensitiveTextAdapter extends UNSAFE_TestAdapter.TestAdapter {
    /**
     * Clear and commit the value of the input element
     * @returns Promise<void>
     */
    async clear() {
        await this.changeValue(undefined);
    }
    /**
     * Change and commit the value of the input element
     * @param value {string | undefined} The new value
     * @returns Promise<void>
     */
    async changeValue(value) {
        const driver = this.getTestDriver();
        // Locate root element using ElementLocator.
        const el = await this.getElement();
        // Find the <input> element underneath the root.
        const input = await el.waitForElement(UNSAFE_Locators.byCss('input'));
        // Clear any existing value.
        await driver.sendKeys(input, UNSAFE_Driver.Keys['CONTROL_COMMAND'], 'a');
        await driver.sendKeys(input, UNSAFE_Driver.Keys['DELETE']);
        if (value !== undefined) {
            await driver.sendKeys(input, value);
        }
        // Commit.
        await driver.sendKeys(input, UNSAFE_Driver.Keys['ENTER']);
    }
}

exports.InputSensitiveTextAdapter = InputSensitiveTextAdapter;
//# sourceMappingURL=InputSensitiveTextAdapter.js.map
