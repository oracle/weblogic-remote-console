/* @oracle/oraclejet-preact: undefined */
'use strict';

var truncationUtils = require('./truncationUtils-2d44b04b.js');
var useResizeObserver = require('./useResizeObserver-a9e97180.js');
var hooks = require('preact/hooks');
require('./TabbableModeContext-e99d527e.js');
var useTabbableMode = require('./useTabbableMode-a275583f.js');

const useDetectTruncation = (isDisabled = false) => {
    const rootRef = hooks.useRef(null);
    const [isTextTruncated, setIsTextTruncated] = hooks.useState(false);
    const { isTabbable } = useTabbableMode.useTabbableMode();
    const [isHovered, setIsHovered] = hooks.useState(false);
    const handleMouseEnter = () => setIsHovered(true);
    const handleMouseLeave = () => setIsHovered(false);
    const detectIfTruncated = hooks.useCallback(() => {
        if (rootRef.current && !isDisabled) {
            const element = rootRef.current;
            element.addEventListener('mouseenter', handleMouseEnter);
            element.addEventListener('mouseleave', handleMouseLeave);
            if (isTabbable || isHovered) {
                const isTruncated = truncationUtils.detectTruncation(rootRef);
                setIsTextTruncated(isTruncated);
            }
        }
    }, [isDisabled, isHovered, isTabbable]);
    useResizeObserver.useResizeObserver(rootRef, detectIfTruncated, { isDisabled: isDisabled });
    const detectTruncationProps = {
        ref: rootRef
    };
    return { detectTruncationProps, isTextTruncated };
};

exports.useDetectTruncation = useDetectTruncation;
//# sourceMappingURL=useDetectTruncation-be13f31d.js.map
