{"version":3,"file":"CheckboxRadioFieldStyles.css-b526d45d.js","sources":["../../src/PRIVATE_CheckboxRadioField/useCheckboxRadioField.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport type { ComponentProps, JSX } from 'preact';\n\nimport type { UnpackSignals } from '@oracle/oraclejet-internal-utilities/attributeUtils';\nimport { merge } from '@oracle/oraclejet-internal-utilities/stringUtils';\n\nimport { useMessageSeverity } from '#hooks/PRIVATE_useMessageSeverity';\nimport type { InlineUserAssistance } from '#UNSAFE_UserAssistance';\n\ntype UseCheckboxRadioFieldProps = {\n  ariaDescribedBy?: string;\n  baseId: string;\n  hasValue?: boolean;\n  hasTopUserAssistance?: boolean;\n  hasBottomUserAssistance?: boolean;\n  isFocused?: boolean; // TODO: check if this is needed\n  isReadonly?: boolean;\n  isRequired?: boolean;\n  isDisabled?: boolean;\n  label: string;\n  labelEdge?: 'none' | 'top' | 'start' | 'inside';\n  messages?: ComponentProps<typeof InlineUserAssistance>['messages'];\n  parentComponentVariant: 'radioSet' | 'checkboxSet';\n};\n\ntype GroupProps = {\n  groupProps: {\n    'aria-describedby'?: UnpackSignals<JSX.AriaAttributes>['aria-describedby'];\n    'aria-labelledby'?: UnpackSignals<JSX.AriaAttributes>['aria-labelledby'];\n    'aria-label'?: UnpackSignals<JSX.AriaAttributes>['aria-label'];\n    'aria-required'?: UnpackSignals<JSX.AriaAttributes>['aria-required'];\n    'aria-invalid'?: UnpackSignals<JSX.AriaAttributes>['aria-invalid'];\n    'aria-readonly'?: UnpackSignals<JSX.AriaAttributes>['aria-readonly'];\n    'aria-disabled'?: UnpackSignals<JSX.AriaAttributes>['aria-disabled'];\n    id: UnpackSignals<JSX.HTMLAttributes>['id'];\n  };\n  labelProps: {\n    forId: string;\n    id: string;\n    isRequiredShown?: boolean;\n  };\n  topUserAssistanceProps?: {\n    id: string;\n    variant: 'reflow';\n  };\n  bottomUserAssistanceProps?: {\n    id: string;\n    isRequiredShown?: boolean;\n  };\n  readonlyId?: string;\n};\n\nexport function useCheckboxRadioField({\n  ariaDescribedBy,\n  baseId,\n  hasValue,\n  hasTopUserAssistance,\n  hasBottomUserAssistance,\n  isReadonly,\n  isRequired = false,\n  isDisabled,\n  label,\n  labelEdge,\n  messages,\n  parentComponentVariant\n}: UseCheckboxRadioFieldProps): GroupProps {\n  const optionsGroupId = `${baseId}-group`;\n  const labelId = `${baseId}-label`;\n  const topUaId = hasTopUserAssistance ? `${baseId}-top-ua` : undefined;\n  const bottomUaId = hasBottomUserAssistance ? `${baseId}-bottom-ua` : undefined;\n  const readonlyId = isReadonly ? `${baseId}-readonly` : undefined;\n  const ariaLabel = label && label.length > 0 && labelEdge === 'none' ? label : undefined;\n  const ariaLabelledBy = ariaLabel ? undefined : labelId;\n  const isRadioSet = parentComponentVariant === 'radioSet';\n  const highestMessageSeverity = useMessageSeverity(messages);\n  const hasErrorMessage = highestMessageSeverity === 'error';\n\n  return {\n    groupProps: {\n      'aria-describedby': merge([topUaId, bottomUaId, readonlyId, ariaDescribedBy]),\n      ...(isRadioSet && { 'aria-required': isRequired }),\n      ...(ariaLabelledBy && { 'aria-labelledby': ariaLabelledBy }),\n      ...(ariaLabel && { 'aria-label': ariaLabel }),\n      ...(isReadonly && isRadioSet && { 'aria-readonly': true }),\n      ...(hasErrorMessage && { 'aria-invalid': true }),\n      ...(isDisabled && { 'aria-disabled': true }),\n      id: optionsGroupId\n    },\n    labelProps: {\n      forId: optionsGroupId,\n      id: labelId\n    },\n    // TOP UA is assistive text and help link/text\n    ...(hasTopUserAssistance && {\n      topUserAssistanceProps: {\n        id: topUaId as string,\n        // Use reflow variant so that top UA doesn't have min height\n        variant: 'reflow'\n      }\n    }),\n    // Bottom UA is required indicator or messages\n    ...(hasBottomUserAssistance && {\n      bottomUserAssistanceProps: {\n        id: bottomUaId as string,\n        isRequiredShown: !isReadonly && !!isRequired && !hasValue\n      }\n    }),\n    ...(isReadonly && {\n      readonlyId\n    })\n  };\n}\n"],"names":["useMessageSeverity","merge"],"mappings":";;;;;;;AAAA;;;;;;AAMG;AAqDa,SAAA,qBAAqB,CAAC,EACpC,eAAe,EACf,MAAM,EACN,QAAQ,EACR,oBAAoB,EACpB,uBAAuB,EACvB,UAAU,EACV,UAAU,GAAG,KAAK,EAClB,UAAU,EACV,KAAK,EACL,SAAS,EACT,QAAQ,EACR,sBAAsB,EACK,EAAA;AAC3B,IAAA,MAAM,cAAc,GAAG,CAAG,EAAA,MAAM,QAAQ,CAAC;AACzC,IAAA,MAAM,OAAO,GAAG,CAAG,EAAA,MAAM,QAAQ,CAAC;AAClC,IAAA,MAAM,OAAO,GAAG,oBAAoB,GAAG,CAAG,EAAA,MAAM,CAAS,OAAA,CAAA,GAAG,SAAS,CAAC;AACtE,IAAA,MAAM,UAAU,GAAG,uBAAuB,GAAG,CAAG,EAAA,MAAM,CAAY,UAAA,CAAA,GAAG,SAAS,CAAC;AAC/E,IAAA,MAAM,UAAU,GAAG,UAAU,GAAG,CAAG,EAAA,MAAM,CAAW,SAAA,CAAA,GAAG,SAAS,CAAC;IACjE,MAAM,SAAS,GAAG,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,KAAK,MAAM,GAAG,KAAK,GAAG,SAAS,CAAC;IACxF,MAAM,cAAc,GAAG,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC;AACvD,IAAA,MAAM,UAAU,GAAG,sBAAsB,KAAK,UAAU,CAAC;AACzD,IAAA,MAAM,sBAAsB,GAAGA,qCAAkB,CAAC,QAAQ,CAAC,CAAC;AAC5D,IAAA,MAAM,eAAe,GAAG,sBAAsB,KAAK,OAAO,CAAC;IAE3D,OAAO;AACL,QAAA,UAAU,EAAE;AACV,YAAA,kBAAkB,EAAEC,aAAK,CAAC,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,eAAe,CAAC,CAAC;YAC7E,IAAI,UAAU,IAAI,EAAE,eAAe,EAAE,UAAU,EAAE,CAAC;YAClD,IAAI,cAAc,IAAI,EAAE,iBAAiB,EAAE,cAAc,EAAE,CAAC;YAC5D,IAAI,SAAS,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC;YAC7C,IAAI,UAAU,IAAI,UAAU,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;YAC1D,IAAI,eAAe,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC;YAChD,IAAI,UAAU,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;AAC5C,YAAA,EAAE,EAAE,cAAc;AACnB,SAAA;AACD,QAAA,UAAU,EAAE;AACV,YAAA,KAAK,EAAE,cAAc;AACrB,YAAA,EAAE,EAAE,OAAO;AACZ,SAAA;;QAED,IAAI,oBAAoB,IAAI;AAC1B,YAAA,sBAAsB,EAAE;AACtB,gBAAA,EAAE,EAAE,OAAiB;;AAErB,gBAAA,OAAO,EAAE,QAAQ;AAClB,aAAA;SACF,CAAC;;QAEF,IAAI,uBAAuB,IAAI;AAC7B,YAAA,yBAAyB,EAAE;AACzB,gBAAA,EAAE,EAAE,UAAoB;gBACxB,eAAe,EAAE,CAAC,UAAU,IAAI,CAAC,CAAC,UAAU,IAAI,CAAC,QAAQ;AAC1D,aAAA;SACF,CAAC;QACF,IAAI,UAAU,IAAI;YAChB,UAAU;SACX,CAAC;KACH,CAAC;AACJ;;;;;;;"}