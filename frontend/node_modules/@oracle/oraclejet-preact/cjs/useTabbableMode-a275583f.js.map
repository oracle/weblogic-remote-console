{"version":3,"file":"useTabbableMode-a275583f.js","sources":["../../src/hooks/UNSAFE_useTabbableMode/useTabbableMode.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useContext, useMemo } from 'preact/hooks';\nimport { TabbableModeContext } from './TabbableModeContext';\nimport { useId } from '../UNSAFE_useId';\n\n/**\n * Utility hook for consuming the TabbableModeContext\n * @param isDisabled boolean flag to communicate disabled state of consumer\n * @param isRovable boolean flag for consumers to opt out of roving logic and the returned data attribute\n * @returns an object containing a boolean isTabbable value as well as the tabbableModeProps object that contains a tabIndex\n * along with other properties needed to support keyboard navigation.\n * In order to properly participate in keyboard navigation patterns (including roving tab index navigation),\n * consumers must spread the returned tabbableModeProps on the target tabbable element.\n */\nfunction useTabbableMode(isDisabled?: boolean, isRovable = true) {\n  const { isTabbable, isRoving, focusedId } = useContext(TabbableModeContext);\n  const id = useId();\n  const tabbableModeInfo = useMemo(() => {\n    const isActive = isTabbable && !isDisabled;\n\n    const tabbableModeProps = {\n      tabIndex: isActive && (isRoving ? id === focusedId : true) ? 0 : -1,\n      ...(isActive && isRoving && isRovable && { 'data-oj-roving-tabindex-item': id })\n    };\n    return {\n      isTabbable,\n      tabbableModeProps\n    };\n  }, [isDisabled, isRovable, isTabbable, isRoving, focusedId, id]);\n  return tabbableModeInfo;\n}\n\nexport { useTabbableMode };\n"],"names":["useContext","TabbableModeContext","useId","useMemo"],"mappings":";;;;;;;AAAA;;;;;;AAMG;AAMH;;;;;;;;AAQG;AACH,SAAS,eAAe,CAAC,UAAoB,EAAE,SAAS,GAAG,IAAI,EAAA;AAC7D,IAAA,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAGA,gBAAU,CAACC,uCAAmB,CAAC,CAAC;AAC5E,IAAA,MAAM,EAAE,GAAGC,WAAK,EAAE,CAAC;AACnB,IAAA,MAAM,gBAAgB,GAAGC,aAAO,CAAC,MAAK;AACpC,QAAA,MAAM,QAAQ,GAAG,UAAU,IAAI,CAAC,UAAU,CAAC;AAE3C,QAAA,MAAM,iBAAiB,GAAG;YACxB,QAAQ,EAAE,QAAQ,KAAK,QAAQ,GAAG,EAAE,KAAK,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACnE,YAAA,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,EAAE,8BAA8B,EAAE,EAAE,EAAE,CAAC;SACjF,CAAC;QACF,OAAO;YACL,UAAU;YACV,iBAAiB;SAClB,CAAC;AACJ,KAAC,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC;AACjE,IAAA,OAAO,gBAAgB,CAAC;AAC1B;;;;"}