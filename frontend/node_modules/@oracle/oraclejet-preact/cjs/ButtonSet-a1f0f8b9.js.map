{"version":3,"file":"ButtonSet-a1f0f8b9.js","sources":["../../src/UNSAFE_ButtonSet/ButtonSetItems.tsx","../../src/UNSAFE_ButtonSet/ButtonSet.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren, ComponentChild, toChildArray, isValidElement, Fragment } from 'preact';\nimport { ButtonSetPositionContext } from '../hooks/UNSAFE_useButtonSetPositionContext';\nimport { indexToPosition } from '../utils/UNSAFE_buttonUtils';\n\ntype ButtonSetItemsProps = {\n  /**\n   * The children are an array of buttonsetitems\n   */\n  children: ComponentChildren;\n};\n\n/**\n * ButtonSetItems renders the ButtonSet children\n */\nexport function ButtonSetItems({ children }: ButtonSetItemsProps) {\n  const childrenArray: ComponentChild[] = toChildArray(children);\n\n  return (\n    <Fragment>\n      {childrenArray.map((value, index) => {\n        if (!isValidElement(value)) return null;\n        else\n          return (\n            <ButtonSetPositionContext.Provider\n              value={{\n                position: indexToPosition(index, childrenArray.length)\n              }}>\n              {value}\n            </ButtonSetPositionContext.Provider>\n          );\n      })}\n    </Fragment>\n  );\n}\n\nButtonSetItems.displayName = 'ButtonSetItems';\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren, Ref } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport { dimensionInterpolations } from '../utils/UNSAFE_interpolations/dimensions';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { styles } from './themes/ButtonSetStyles.css';\nimport { useButtonSetContext } from '../hooks/UNSAFE_useButtonSetContext';\nimport { ButtonSetItems } from './ButtonSetItems';\nimport { useContext } from 'preact/hooks';\n\nimport { useTestId, TestIdProps } from '../hooks/UNSAFE_useTestId';\nimport type { DimensionProps } from '../utils/UNSAFE_interpolations/dimensions';\nimport { useRovingTabIndexContainer } from '../hooks/PRIVATE_useRovingTabIndexContainer';\nimport { TabbableModeContext, useTabbableMode } from '../hooks/UNSAFE_useTabbableMode';\nimport { mergeRefs } from '../utils/PRIVATE_refUtils';\n\ntype WidthProps = Pick<DimensionProps, 'width'>;\n\nexport type ButtonSetProps = WidthProps &\n  TestIdProps & {\n    /**\n     * The children are an array of buttonsetitems\n     */\n    children?: ComponentChildren;\n\n    /**\n     * aria-label - label for accessibility\n     */\n    'aria-label'?: string;\n\n    /**\n     * aria-labelledby - label for accessibility\n     */\n    'aria-labelledby'?: string;\n\n    /**\n     * aria-controls - specifies what this buttonset control controls.\n     */\n    'aria-controls'?: string;\n\n    /**\n     * The ID of an element (or space separated IDs of multiple elements) that\n     * describes the buttonsetsingle.\n     */\n    'aria-describedby'?: string;\n  };\n\nconst interpolations = [...Object.values(dimensionInterpolations)];\nconst styleInterpolations = mergeInterpolations<DimensionProps>(interpolations);\n\n/**\n * ButtonSet allow users to select the state of one or more related options.\n */\nexport const ButtonSet = forwardRef(\n  (\n    {\n      children,\n      testId,\n      'aria-label': accessibleLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-controls': ariaControls,\n      'aria-describedby': ariaDescribedBy,\n      width\n    }: ButtonSetProps,\n    ref?: Ref<HTMLSpanElement>\n  ) => {\n    const { layoutWidth, isDisabled } = useButtonSetContext();\n    const testIdProps = useTestId(testId);\n\n    const { isTabbable } = useTabbableMode(isDisabled);\n    const { isRoving } = useContext(TabbableModeContext);\n\n    const {\n      focusedId,\n      rovingTabIndexContainerProps: { ref: rovingRef, tabIndex, ...rovingProps }\n    } = useRovingTabIndexContainer(!isTabbable);\n\n    const { class: cls, ...intStyles } = styleInterpolations({ width });\n    const rootStyles = classNames([\n      styles.base,\n      cls,\n      layoutWidth === 'equal' ? styles.fullWidth : undefined\n    ]);\n\n    return (\n      <span\n        role=\"toolbar\"\n        class={rootStyles}\n        style={intStyles}\n        ref={isRoving ? ref : mergeRefs(ref, rovingRef)}\n        aria-label={accessibleLabel}\n        aria-labelledby={ariaLabelledBy}\n        aria-describedby={ariaDescribedBy}\n        aria-controls={ariaControls}\n        tabIndex={!isDisabled && !isRoving ? tabIndex : undefined}\n        {...testIdProps}\n        {...rovingProps}>\n        {isRoving ? (\n          <ButtonSetItems>{children}</ButtonSetItems>\n        ) : (\n          <TabbableModeContext.Provider\n            value={{ isTabbable: isTabbable, isRoving: true, focusedId: focusedId }}>\n            <ButtonSetItems>{children}</ButtonSetItems>\n          </TabbableModeContext.Provider>\n        )}\n      </span>\n    );\n  }\n);\n\nButtonSet.displayName = 'ButtonSet';\n"],"names":["toChildArray","_jsx","Fragment","isValidElement","ButtonSetPositionContext","indexToPosition","dimensionInterpolations","mergeInterpolations","forwardRef","useButtonSetContext","useTestId","useTabbableMode","useContext","TabbableModeContext","useRovingTabIndexContainer","classNames","styles","mergeRefs"],"mappings":"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"}