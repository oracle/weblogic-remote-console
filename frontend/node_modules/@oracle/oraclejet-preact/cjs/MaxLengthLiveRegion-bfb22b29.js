/* @oracle/oraclejet-preact: undefined */
'use strict';

var jsxRuntime = require('preact/jsx-runtime');
var useDebounce = require('./useDebounce-4304cfbd.js');
var useTranslationBundle = require('./useTranslationBundle-18b7bf8b.js');
var LiveRegion = require('./LiveRegion-e410e187.js');

const MAX_LENGTH_UPDATE_DELAY = 500;
function MaxLengthLiveRegion({ isMaxLengthExceeded, maxLength, testId, valueLength = 0 }) {
    // Comment copied from InputBase.js in Big JET:
    // Only update the aria-live div when the user has paused for more than
    // 500 milliseconds. That way, we avoid queued up aria-live messages which
    // would be annoying and not helpful. The 500ms was agreed upon in the
    // accessibility review meeting.
    const debouncedRemainingChars = useDebounce.useDebounce(maxLength - valueLength, MAX_LENGTH_UPDATE_DELAY);
    const translations = useTranslationBundle.useTranslationBundle('@oracle/oraclejet-preact');
    const maxLengthExceededTranslatedString = translations.formControl_maxLengthExceeded({
        MAX_LENGTH: `${maxLength}`
    });
    const remainingCharsTranslatedString = translations.formControl_maxLengthRemaining({
        CHARACTER_COUNT: `${debouncedRemainingChars}`
    });
    return (jsxRuntime.jsxs(jsxRuntime.Fragment, { children: [jsxRuntime.jsx(LiveRegion.LiveRegion, { testId: testId ? testId + '_remainingChars' : undefined, children: remainingCharsTranslatedString }), isMaxLengthExceeded && (jsxRuntime.jsx(LiveRegion.LiveRegion, { testId: testId ? testId + '_exceeded' : undefined, type: "assertive", children: maxLengthExceededTranslatedString }))] }));
}

exports.MaxLengthLiveRegion = MaxLengthLiveRegion;
//# sourceMappingURL=MaxLengthLiveRegion-bfb22b29.js.map
