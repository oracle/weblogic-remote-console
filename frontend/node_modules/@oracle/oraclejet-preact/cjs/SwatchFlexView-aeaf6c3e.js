/* @oracle/oraclejet-preact: undefined */
'use strict';

var jsxRuntime = require('preact/jsx-runtime');
var hooks = require('preact/hooks');
var useResizeObserver = require('./useResizeObserver-a9e97180.js');
var compat = require('preact/compat');
var BaseSwatchView = require('./BaseSwatchView-3d9dbf9a.js');

const SwatchFlexView = compat.forwardRef((props, ref) => {
    const rootRef = hooks.useRef(null);
    compat.useImperativeHandle(ref, () => rootRef.current, [rootRef]);
    const [size, setSize] = hooks.useState({});
    const updateSwatchSize = (swatchWidth, swatchHeight) => {
        setSize((size) => ({ ...size, swatchWidth, swatchHeight }));
    };
    const handleResize = hooks.useCallback((entry) => {
        const containerWidth = entry.contentRect.width;
        if (size.containerWidth !== containerWidth) {
            setSize((size) => ({ ...size, containerWidth }));
        }
    }, [size]);
    useResizeObserver.useResizeObserver(rootRef, handleResize);
    const columns = BaseSwatchView.getColCount(8, size.swatchWidth, size.containerWidth);
    const swatchSize = { width: size.swatchWidth, height: size.swatchHeight };
    return (jsxRuntime.jsx(BaseSwatchView.BaseSwatchView, { ...props, ref: rootRef, columns: columns, swatchSize: swatchSize, updateSwatchSize: updateSwatchSize }));
});

exports.SwatchFlexView = SwatchFlexView;
//# sourceMappingURL=SwatchFlexView-aeaf6c3e.js.map
