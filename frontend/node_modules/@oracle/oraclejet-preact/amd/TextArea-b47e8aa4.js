define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-6b0879a0', './useFormContext-b8cbbb21', './FormFieldContext-a024b891', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-46fd3625', './keyboardUtils-fb6219eb', './TextFieldInput-eb40adaa', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-e5723c48', './StyledTextField-5e554e5b', './TextField-51b63f5f', './MaxLengthLiveRegion-04832e9d', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', './useTextField-3ab0a23b', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-8e42d505', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-b485c235', './CompactUserAssistance-e2f42bce', './mergeProps-bcfa6a92', './LayerHost-daf96749', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-ae57629b', 'preact', 'css!./IconStyle.styles.css', './Popup-695781d6', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-c05fd679', './classNames-08d99695', './usePress-949a0d03', './useFormFieldContext-9260f081', 'css!./MaxLengthCounterStyles.styles.css', './useCurrentValueReducer-faded381', './useSelectableTextField-900d2860', './formControlUtils-de035f75'], (function(e,s,t,n,a,l,i,o,r,d,c,u,x,m,h,p,b,F,y,g,f,L,T,C,S,A,v,R,U,I,j,_,E,w,P,k,M,N,D,V,B,H,q,z,W,$,G,O,X,J,K,Q,Y,Z,ee,se){"use strict";var te="MaxLengthCounterStyles_spanStyles__7dy9j72";const ne=()=>{};function ae({maxLength:e,valueLength:t=0,onClick:n}){const{isFocused:a}=Q.useFormFieldContext(),l=i.useCallback((e=>e.preventDefault()),[]),o=J.classNames([!a&&"MaxLengthCounterStyles_hide__7dy9j71"]),{pressProps:r}=K.usePress(n??ne);return s.jsx("div",{class:"MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",onMouseDown:l,...r,children:s.jsxs("span",{class:o,children:[s.jsx("span",{class:te,children:t}),s.jsx("span",{class:te,children:"/"}),s.jsx("span",{class:te,children:e})]})})}const le=t.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:i="off",autoFocus:d=!1,columnSpan:u,helpSourceLink:b,helpSourceText:F,isDisabled:y,isReadonly:g,isRequired:f=!1,isRequiredShown:L,label:C,labelEdge:S,labelStartWidth:R,maxLength:U,maxLengthCounter:I="remaining",maxLengthUnit:w,messages:P,placeholder:k,resize:M,role:N,rows:D,textAlign:V,userAssistanceDensity:B,value:H,variant:q="default",onInput:z,onCommit:W,testId:G},O)=>{const J=v.useTranslationBundle("@oracle/oraclejet-preact"),K=U?J.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:Q,dispatch:Y}=Z.useCurrentValueReducer({value:H}),te=t.useCallback((e=>{Y({type:"input",payload:e.value}),z?.(e)}),[z,Y]),ne=t.useCallback((e=>{Y({type:"commit",payload:e.value}),W?.(e)}),[W,Y]),{isDisabled:le,isReadonly:ie,labelEdge:oe,labelStartWidth:re,textAlign:de,userAssistanceDensity:ce}=a.useFormContext(),ue=y??le,xe=g??ie,me=S??oe,he=R??re,pe=V??de??se.defaultTextAlignForVariant(q),be=B??ce,Fe=t.useRef(A.useId()),ye=e?`${e} ${Fe.current}`:Fe.current,ge=t.useRef(null),fe=t.useRef(null),{focusProps:Le,isFocused:Te,methods:Ce}=o.useFocusableTextField({isDisabled:ue,isReadonly:xe,enabledElementRef:ge,readonlyElementRef:fe}),{methods:Se}=ee.useSelectableTextField(ge);t.useImperativeHandle(O,(()=>E.mergeProps(Ce,Se)),[Ce,Se]);const{isMaxLengthExceeded:Ae,isMaxLengthReached:ve,valueLength:Re,onFilteredInput:Ue}=X.useLengthFilter({maxLength:U,maxLengthUnit:w,value:H,onInput:te,onCommit:ne}),Ie=[...P??[],...ve?[{detail:K,severity:"info"}]:[]],{formFieldContext:je,inputProps:_e,labelProps:Ee,textFieldProps:we,userAssistanceProps:Pe}=T.useTextField({ariaDescribedBy:xe||ue?e:ye,contentVariant:"textarea",helpSourceLink:b,helpSourceText:F,isDisabled:ue,isFocused:Te,isReadonly:xe,isRequiredShown:L,labelEdge:me,messages:Ie,styleVariant:q,userAssistanceDensity:be,value:H}),ke=t.useCallback((()=>{const e=ge.current,s=e?e.value.length:null;ge.current?.setSelectionRange(s,s),ge.current?.focus()}),[ge]),Me="none"!==me?s.jsx(r.Label,{...Ee,children:C}):void 0,Ne={label:"none"!==me?Me:void 0,labelEdge:"none"!==me?me:void 0,labelStartWidth:"none"!==me?he:void 0,labelText:"inside"!==me||ue?void 0:C},De="none"===me?C:void 0,Ve="efficient"===be||"reflow"===be?ue?"efficient"!==be?void 0:s.jsx(j.InlineUserAssistance,{userAssistanceDensity:be,...Pe}):xe?s.jsx(j.InlineUserAssistance,{fieldLabel:C,messages:P,userAssistanceDensity:be,...Pe}):s.jsx(j.InlineUserAssistance,{assistiveText:n,fieldLabel:C,helpSourceLink:b,helpSourceText:F,messages:Ie,isRequiredShown:L,userAssistanceDensity:be,...Pe}):void 0,Be=t.useRef(null),He="compact"===be?s.jsx(_.CompactUserAssistance,{anchorRef:Be,messages:Ie,assistiveText:n,...Pe}):void 0;if(xe){const e=s.jsx(x.ReadonlyTextFieldInput,{"aria-describedby":_e["aria-describedby"],"aria-label":De,"aria-labelledby":Ee.id,as:"textarea",elementRef:fe,formVariant:q,rows:D,autoFocus:d,textAlign:pe,value:H,variant:"textarea",hasEmptyLabel:""===C&&"none"===me,hasInsideLabel:void 0!==C&&"inside"===me,onBlur:_e.onBlur,onFocus:_e.onFocus});return s.jsx(l.FormFieldContext.Provider,{value:je,children:s.jsx(m.ReadonlyTextField,{role:"presentation",columnSpan:u,compactUserAssistance:He,inlineUserAssistance:Ve,ref:Be,testId:G,variant:"textarea",mainContent:e,resize:M,...Ne})})}const qe=void 0!==U,ze=s.jsxs(s.Fragment,{children:[s.jsx(c.TextFieldInput,{as:"textarea","aria-label":De,autoComplete:i,autoFocus:d,currentCommitValue:Q,hasEmptyLabel:""===C&&"none"===me,hasInsideLabel:void 0!==Me&&"inside"===me,isRequired:f,inputRef:ge,onCommit:ne,onInput:Ue,placeholder:k,role:N,rows:D,textAlign:pe,value:H,..._e}),"remaining"===I&&qe&&s.jsx(ae,{maxLength:U,valueLength:Re,onClick:ke}),qe&&s.jsx($.HiddenAccessible,{id:Fe.current,isHidden:!0,children:J.formControl_maxLength({MAX_LENGTH:`${U}`})}),qe&&Te&&s.jsx(p.MaxLengthLiveRegion,{isMaxLengthExceeded:Ae,maxLength:U,valueLength:Re,testId:G?G+"_maxLength":void 0})]});return s.jsx(l.FormFieldContext.Provider,{value:je,children:s.jsx(h.TextField,{mainContent:ze,columnSpan:u,compactUserAssistance:He,inlineUserAssistance:Ve,onBlur:Le?.onFocusOut,onFocus:Le?.onFocusIn,mainFieldRef:Be,resize:M,testId:G,...we,...Ne})})}));e.MaxLengthCounter=ae,e.TextArea=le}));
//# sourceMappingURL=TextArea-b47e8aa4.js.map
