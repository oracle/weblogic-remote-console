import { ComponentChildren, JSX } from 'preact';
import { ListItemRendererContext } from "../UNSAFE_Collection";
import { TestIdProps } from "../hooks/UNSAFE_useTestId";
import { ViewportConfig } from '../hooks/UNSAFE_useViewportIntersect';
import { Keys } from "../utils/UNSAFE_keys";
import { SelectionDetail, ToggleDetail, SelectionMode } from "../UNSAFE_Collection";
import type { UnpackSignals } from "../PRIVATE_oraclejet-internal-utilities/attributeUtils";
type TreeNode<K> = {
    key: K;
    treeDepth: number;
};
type ParentNode<K> = TreeNode<K> & {
    expanded: boolean | 'ongoing';
    isLeaf?: never;
};
type LeafNode<K> = TreeNode<K> & {
    expanded?: never;
    isLeaf: true;
};
export type InternalTreeNode<K, D> = {
    data: D;
    metadata: (ParentNode<K> & {
        selected: boolean | 'partial';
        hasFocus: boolean;
    }) | (LeafNode<K> & {
        selected: boolean;
        hasFocus: boolean;
    });
};
export type FlattenedTreeNode<K, D> = {
    data: D;
    metadata: ParentNode<K> | LeafNode<K>;
};
export type FlatTreeViewProps<K, D> = Omit<LoadMoreTreeCollectionProps<K, D>, 'data' | 'viewportConfig' | 'updateContext'> & {
    /**
     * An aria-label which defines a string value that labels this FlatTreeView.
     * Either aria-label, aria-labelledby, or aria-describedby should be specified in order to make FlatTreeView accessible.
     */
    'aria-label'?: UnpackSignals<JSX.AriaAttributes>['aria-label'];
    /**
     * An aria-labelledby which identifies the element(s) that labels this FlatTreeView.
     * Either aria-label, aria-labelledby, or aria-describedby should be specified in order to make FlatTreeView accessible.
     */
    'aria-labelledby'?: UnpackSignals<JSX.AriaAttributes>['aria-labelledby'];
    /**
     * An aria-describedby which identifies the element(s) that describes this FlatTreeView.
     * Either aria-label, aria-labelledby, or aria-describedby should be specified in order to make FlatTreeView accessible.
     */
    'aria-describedby'?: UnpackSignals<JSX.AriaAttributes>['aria-describedby'];
    /**
     * An array of shaped data that provide data and metadata information to the FlatTreeView.
     * If the value is null, the component will show loading indicator until the value is set.
     */
    data: FlattenedTreeNode<K, D>[] | null;
    /**
     * The keys of the current selected items in the TreeView.
     */
    selectedKeys?: Keys<K>;
    /**
     * Callback function to handle when selection has changed.  The function should update
     * the selectedKeys prop with a new set of selected keys.
     */
    onSelectionChange?: (detail: SelectionDetail<K>) => void;
    /**
     * Viewport configuration including specifying the element which is used to determine what range
     * of data to render
     */
    viewportConfig?: ViewportConfig;
};
export type LoadMoreTreeCollectionProps<K, D> = TestIdProps & {
    /**
     * An array of shaped data that provide data and metadata information to the TreeView.
     */
    data: InternalTreeNode<K, D>[] | null;
    /**
     * A function to render each item
     */
    children: (context: ListItemRendererContext<K, D>) => ComponentChildren;
    /**
     * Callback function to handle when a parent node is expanded or collapsed
     * The function should update data prop on the component to include/exclude the children data
     */
    onToggle?: (detail: ToggleDetail<K>) => void;
    /**
     * Whether there are still more data to load.
     */
    hasMore?: boolean;
    /**
     * The type of selection behavior that is enabled on the TreeView. This property controls the number
     * of selections that can be made via selection gestures at any given time.
     */
    selectionMode?: SelectionMode | 'multipleToggle';
    /**
     * Callback function to handle when user scrolls to the end of the component and there are more items to load.
     * The function should update data prop on the component to include the next set of items fetched.
     */
    onLoadMore?: () => void;
    /**
     * Viewport configuration including specifying the element which is used to determine what range
     * of data to render
     */
    viewportConfig: ViewportConfig;
    /**
     * Optionally specify the custom load more indicator
     */
    loadMoreIndicator?: ComponentChildren;
    /**
     * Optionally specify a callback function to update renderer context
     */
    updateContext?: (context: ListItemRendererContext<K, D>) => void;
};
export {};
