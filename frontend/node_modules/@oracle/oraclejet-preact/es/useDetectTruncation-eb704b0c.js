/* @oracle/oraclejet-preact: undefined */
import { d as detectTruncation } from './truncationUtils-e37f95ee.js';
import { u as useResizeObserver } from './useResizeObserver-13641643.js';
import { useRef, useState, useCallback } from 'preact/hooks';
import './TabbableModeContext-7d8ad946.js';
import { u as useTabbableMode } from './useTabbableMode-a2fdbb06.js';

const useDetectTruncation = (isDisabled = false) => {
    const rootRef = useRef(null);
    const [isTextTruncated, setIsTextTruncated] = useState(false);
    const { isTabbable } = useTabbableMode();
    const [isHovered, setIsHovered] = useState(false);
    const handleMouseEnter = () => setIsHovered(true);
    const handleMouseLeave = () => setIsHovered(false);
    const detectIfTruncated = useCallback(() => {
        if (rootRef.current && !isDisabled) {
            const element = rootRef.current;
            element.addEventListener('mouseenter', handleMouseEnter);
            element.addEventListener('mouseleave', handleMouseLeave);
            if (isTabbable || isHovered) {
                const isTruncated = detectTruncation(rootRef);
                setIsTextTruncated(isTruncated);
            }
        }
    }, [isDisabled, isHovered, isTabbable]);
    useResizeObserver(rootRef, detectIfTruncated, { isDisabled: isDisabled });
    const detectTruncationProps = {
        ref: rootRef
    };
    return { detectTruncationProps, isTextTruncated };
};

export { useDetectTruncation as u };
//# sourceMappingURL=useDetectTruncation-eb704b0c.js.map
