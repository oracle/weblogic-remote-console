{"version":3,"file":"WindowOverlay-b380ce51.js","sources":["../../src/UNSAFE_WindowOverlay/WindowOverlay.tsx"],"sourcesContent":["import type { JSX } from 'preact';\nimport type { UnpackSignals } from '@oracle/oraclejet-internal-utilities/attributeUtils';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\n\nimport { assignInlineVars } from '@vanilla-extract/dynamic';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { windowOverlayStyles } from './themes/WindowOverlayStyles.css';\nimport { windowOverlayVars } from './themes/WindowOverlayContract.css';\nimport { useUser } from '../hooks/UNSAFE_useUser';\nimport type { Offset } from '../UNSAFE_Floating';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { WindowOverlayRedwoodTheme } from './themes/redwood/WindowOverlayTheme';\n\nexport type { Offset };\n\ntype IntrinsicProps = Pick<UnpackSignals<JSX.IntrinsicElements['div']>, 'children'>;\n\nexport type WindowOverlayPlacement =\n  | 'center'\n  | 'top'\n  | 'top-start'\n  | 'top-end'\n  | 'start'\n  | 'start-top'\n  | 'start-bottom'\n  | 'bottom'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'end'\n  | 'end-top'\n  | 'end-bottom';\n\nconst offsetStyle = (offset?: Offset) => {\n  return typeof offset === 'number'\n    ? assignInlineVars({\n        [windowOverlayVars.notificationMainAxisOffset]: `${offset}px`,\n        [windowOverlayVars.notificationCrossAxisOffset]: `0px`\n      })\n    : assignInlineVars({\n        [windowOverlayVars.notificationMainAxisOffset]: `${offset?.mainAxis ?? 0}px`,\n        [windowOverlayVars.notificationCrossAxisOffset]: `${offset?.crossAxis ?? 0}px`\n      });\n};\n\ntype WindowOverlayProps = IntrinsicProps & {\n  /**\n   * Offset displaces the child element of the WindowOverlay component from its core placement along the specified axes.\n   *\n   * Offset could be a number or an object\n   *\n   * An object has the following type:\n   * <pre>\n   *   {\n   *     mainAxis?: number;\n   *     crossAxis?: number;\n   *   }\n   * </pre>\n   * <p><code>mainAxis</code> - represents the distance (gutter or margin) between the child element and the viewport along the mainAxis.</p>\n   * <p><code>crossAxis</code> - represents the distance (gutter or margin) between the child element and the viewport along the crossAxis.</p>\n   *\n   * where,\n   * <p>The <code>mainAxis</code> is an axis that runs along the side of the placement, i.e. the part before the hyphen (top-*, bottom-*, start-*, end-*).</p>\n   * <p>The <code>crossAxis</code> is an axis that runs along the alignment of the placement, i.e. the part after the hyphen (*-start, *-end, *-top, *-bottom).</p>\n   *\n   * For the placement value 'center' the convention for the offset type is that mainAxis defines offset from the top, crossAxis defines offset from the left side of the view port.\n   *\n   * A number is a shortcut for setting the mainAxis.\n   */\n  offset?: Offset;\n  /**\n   * Placement of the WindowOverlay element relative to the viewport.\n   * Possible values are:\n   * <p> <code>'center' </code> <code>'top' </code> <code>'top-start' </code> <code> 'top-end' </code>\n   * <code> 'end' </code> <code> 'end-top'  </code> <code> 'end-bottom' </code>\n   * <code> 'bottom'  </code> <code> 'bottom-start'  </code> <code> 'bottom-end' </code>\n   * <code> 'start' </code> <code> 'start-top'  </code> <code> 'start-bottom' </code>\n   * </p>\n   */\n  placement?: WindowOverlayPlacement;\n};\n\n/**\n * A WindowOverlay component allows the user to place a child component relative to the viewport\n */\nexport const WindowOverlay = ({ children, ...props }: WindowOverlayProps) => {\n  const { direction } = useUser();\n  const isLtr = direction === 'ltr';\n\n  if (props.placement == null) {\n    props.placement = 'center';\n  }\n\n  const { styles, baseTheme: windowOverlayTheme } = useComponentTheme(WindowOverlayRedwoodTheme);\n  const { baseStyle, gridStyles, placementStyles } = styles;\n\n  const placementInterpolations = [\n    ({ placement = 'center' }: Pick<WindowOverlayProps, 'placement'>) => ({\n      class: placementStyles[placement]\n    })\n  ];\n\n  const interpolations = [...Object.values(placementInterpolations)];\n\n  const styleInterpolations = mergeInterpolations<WindowOverlayProps>(interpolations);\n\n  const { class: cls, ...allStyles } = styleInterpolations(props);\n\n  const offsetClasses = (position?: string, isLtr?: boolean, theme?: string) => {\n    if (position == null) {\n      return;\n    }\n    let logicalPosition;\n    switch (position) {\n      case 'top-start':\n      case 'center':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['top-left']\n          : windowOverlayStyles['top-right'];\n        break;\n      case 'top-end':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['top-right']\n          : windowOverlayStyles['top-left'];\n        break;\n      case 'bottom-start':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['bottom-left']\n          : windowOverlayStyles['bottom-right'];\n        break;\n      case 'bottom-end':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['bottom-right']\n          : windowOverlayStyles['bottom-left'];\n        break;\n      case 'start-top':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['left-top']\n          : windowOverlayStyles['right-top'];\n        break;\n      case 'end-top':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['right-top']\n          : windowOverlayStyles['left-top'];\n        break;\n      case 'start-bottom':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['left-bottom']\n          : windowOverlayStyles['right-bottom'];\n        break;\n      case 'end-bottom':\n        logicalPosition = isLtr\n          ? windowOverlayStyles['right-bottom']\n          : windowOverlayStyles['left-bottom'];\n        break;\n      case 'start':\n        logicalPosition = isLtr ? windowOverlayStyles['left'] : windowOverlayStyles['right'];\n        break;\n      case 'end':\n        logicalPosition = isLtr ? windowOverlayStyles['right'] : windowOverlayStyles['left'];\n        break;\n      case 'top':\n        logicalPosition = windowOverlayStyles['top'];\n        break;\n      case 'bottom':\n        logicalPosition = windowOverlayStyles['bottom'];\n        break;\n      default:\n        break;\n    }\n    return classNames([windowOverlayStyles.notificationPosition, logicalPosition, theme]);\n  };\n  const classes = offsetClasses(props.placement, isLtr, windowOverlayTheme);\n\n  const windowOverlayOffsetStyle = offsetStyle(props.offset);\n\n  return (\n    <div class={classNames([baseStyle, gridStyles, cls])} style={allStyles}>\n      <div\n        class={classes}\n        style={windowOverlayOffsetStyle !== undefined ? windowOverlayOffsetStyle : undefined}>\n        {children}\n      </div>\n    </div>\n  );\n};\n"],"names":["_jsx"],"mappings":"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"}