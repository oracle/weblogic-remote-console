/* @oracle/oraclejet-preact: undefined */
import { jsxs, Fragment, jsx } from 'preact/jsx-runtime';
import { u as useDebounce } from './useDebounce-fa5a80e9.js';
import { u as useTranslationBundle } from './useTranslationBundle-25469f1c.js';
import { L as LiveRegion } from './LiveRegion-79ffc814.js';

const MAX_LENGTH_UPDATE_DELAY = 500;
function MaxLengthLiveRegion({ isMaxLengthExceeded, maxLength, testId, valueLength = 0 }) {
    // Comment copied from InputBase.js in Big JET:
    // Only update the aria-live div when the user has paused for more than
    // 500 milliseconds. That way, we avoid queued up aria-live messages which
    // would be annoying and not helpful. The 500ms was agreed upon in the
    // accessibility review meeting.
    const debouncedRemainingChars = useDebounce(maxLength - valueLength, MAX_LENGTH_UPDATE_DELAY);
    const translations = useTranslationBundle('@oracle/oraclejet-preact');
    const maxLengthExceededTranslatedString = translations.formControl_maxLengthExceeded({
        MAX_LENGTH: `${maxLength}`
    });
    const remainingCharsTranslatedString = translations.formControl_maxLengthRemaining({
        CHARACTER_COUNT: `${debouncedRemainingChars}`
    });
    return (jsxs(Fragment, { children: [jsx(LiveRegion, { testId: testId ? testId + '_remainingChars' : undefined, children: remainingCharsTranslatedString }), isMaxLengthExceeded && (jsx(LiveRegion, { testId: testId ? testId + '_exceeded' : undefined, type: "assertive", children: maxLengthExceededTranslatedString }))] }));
}

export { MaxLengthLiveRegion as M };
//# sourceMappingURL=MaxLengthLiveRegion-7a81593c.js.map
