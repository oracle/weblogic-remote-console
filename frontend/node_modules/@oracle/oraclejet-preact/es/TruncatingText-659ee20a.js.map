{"version":3,"file":"TruncatingText-659ee20a.js","sources":["../../src/UNSAFE_TruncatingText/TruncatingText.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useTooltipOnTruncation } from '#hooks/PRIVATE_useTooltipOnTruncation';\nimport { useTabbableMode } from '#hooks/UNSAFE_useTabbableMode';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { multiVariantStyles, styles } from '../UNSAFE_Text/themes/TextStyles.css';\nimport { getClientHints } from '../utils/PRIVATE_clientHints';\n\ntype StylePropsWithOutTruncate = {\n  /**\n   * Specifies text color. If set as \"inherit\", takes text color from its parent element.\n   */\n  variant?: 'primary' | 'secondary' | 'disabled' | 'danger' | 'warning' | 'success' | 'inherit';\n\n  /**\n   * Specifies font size and line height. If set as \"inherit\", takes font size and line height from its parent element.\n   */\n  size?: '2xs' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'inherit';\n\n  /**\n   * Specifies the font weight. If set as \"inherit\", takes font weight from its parent element.\n   */\n  weight?: 'normal' | 'semiBold' | 'bold' | 'inherit';\n\n  /**\n   * Specifies the overflow-wrap.\n   */\n  overflowWrap?: 'normal' | 'breakWord' | 'anywhere';\n\n  /**\n   * Specifies if hyphens should be included when handling long words with no spaces.\n   */\n  hyphens?: 'auto' | 'none';\n};\ntype TruncateProps =\n  | {\n      /**\n       * Truncates text at a specific number of lines and then displays an ellipsis (â€¦) at the end of the last line. Parent of the element needs to have a specific width so text starts overflowing and produce a truncation.\n       */\n      lineClamp?: number;\n      /**\n       * Determines text behavior when text is truncated. Be aware of setting either lineClamp or truncation. Setting both props would produce a type error. In most cases, lineClamp=1 tries to put the ellipsis at the end of a \"word\". On the other hand, using truncation=\"ellipsis\" will show as much as possible text, then put the ellipsis at the end.\n       */\n      truncation?: never;\n    }\n  | {\n      lineClamp?: never;\n      truncation?: 'none' | 'clip' | 'ellipsis';\n    };\ntype AdditionalProps = {\n  /**\n   * Specifies the text id\n   */\n  id?: string;\n\n  /**\n   * Specifies the children.\n   */\n  children?: string;\n};\ntype Props = StylePropsWithOutTruncate & TruncateProps & AdditionalProps;\n\nconst interpolations = [\n  ({ lineClamp }: Pick<TruncateProps, 'lineClamp'>) =>\n    !lineClamp ? {} : { class: styles.lineClamp, webkitLineClamp: lineClamp }\n];\nconst styleInterpolations = mergeInterpolations<Omit<Props, 'children'>>(interpolations);\n\n/**\n * Truncating Text shows a tooltip containing the full text while also acting as a tab stop when truncation occurs.\n */\nexport function TruncatingText({\n  children,\n  hyphens,\n  size,\n  truncation,\n  variant = 'inherit',\n  weight,\n  overflowWrap = 'anywhere',\n  ...props\n}: Props) {\n  const clientHints = getClientHints();\n  const variantClasses = multiVariantStyles({\n    hyphens,\n    size,\n    truncation,\n    variant,\n    weight,\n    overflowWrap,\n    safariStyles: clientHints.browser === 'safari' ? 'needs' : 'noNeed'\n  });\n  const { class: interpolatedClasses, ...styles } = styleInterpolations(props);\n  const classes = classNames([variantClasses, interpolatedClasses]);\n  const { isTabbable } = useTabbableMode();\n  const { tooltipOnTruncationProps, tooltipContent, isTextTruncated } = useTooltipOnTruncation(\n    children,\n    variant === 'disabled'\n  );\n\n  return (\n    <>\n      <span\n        {...tooltipOnTruncationProps}\n        tabIndex={isTextTruncated && isTabbable ? 0 : -1}\n        class={classes}\n        style={styles}\n        id={props.id}>\n        {children}\n      </span>\n      {tooltipContent}\n    </>\n  );\n}\n"],"names":["_jsxs","_Fragment","_jsx"],"mappings":";;;;;;;;;;AAoEA,MAAM,cAAc,GAAG;IACrB,CAAC,EAAE,SAAS,EAAoC,KAC9C,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,eAAe,EAAE,SAAS,EAAE;CAC5E,CAAC;AACF,MAAM,mBAAmB,GAAG,mBAAmB,CAA0B,cAAc,CAAC,CAAC;AAEzF;;AAEG;AACG,SAAU,cAAc,CAAC,EAC7B,QAAQ,EACR,OAAO,EACP,IAAI,EACJ,UAAU,EACV,OAAO,GAAG,SAAS,EACnB,MAAM,EACN,YAAY,GAAG,UAAU,EACzB,GAAG,KAAK,EACF,EAAA;AACN,IAAA,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IACrC,MAAM,cAAc,GAAG,kBAAkB,CAAC;QACxC,OAAO;QACP,IAAI;QACJ,UAAU;QACV,OAAO;QACP,MAAM;QACN,YAAY;AACZ,QAAA,YAAY,EAAE,WAAW,CAAC,OAAO,KAAK,QAAQ,GAAG,OAAO,GAAG,QAAQ;AACpE,KAAA,CAAC,CAAC;AACH,IAAA,MAAM,EAAE,KAAK,EAAE,mBAAmB,EAAE,GAAG,MAAM,EAAE,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAC7E,MAAM,OAAO,GAAG,UAAU,CAAC,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC,CAAC;AAClE,IAAA,MAAM,EAAE,UAAU,EAAE,GAAG,eAAe,EAAE,CAAC;AACzC,IAAA,MAAM,EAAE,wBAAwB,EAAE,cAAc,EAAE,eAAe,EAAE,GAAG,sBAAsB,CAC1F,QAAQ,EACR,OAAO,KAAK,UAAU,CACvB,CAAC;AAEF,IAAA,QACEA,IACE,CAAAC,QAAA,EAAA,EAAA,QAAA,EAAA,CAAAC,GAAA,CAAA,MAAA,EAAA,EAAA,GACM,wBAAwB,EAC5B,QAAQ,EAAE,eAAe,IAAI,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,EAChD,KAAK,EAAE,OAAO,EACd,KAAK,EAAE,MAAM,EACb,EAAE,EAAE,KAAK,CAAC,EAAE,YACX,QAAQ,EAAA,CACJ,EACN,cAAc,CAAA,EAAA,CACd,EACH;AACJ;;;;"}