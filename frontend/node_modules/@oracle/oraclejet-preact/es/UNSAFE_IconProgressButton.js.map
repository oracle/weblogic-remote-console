{"version":3,"file":"UNSAFE_IconProgressButton.js","sources":["../../src/UNSAFE_IconProgressButton/IconProgressButton.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChild, Fragment, Ref } from 'preact';\nimport { BaseButton } from '../UNSAFE_BaseButton';\nimport { ProgressButtonLabelLayout } from '../UNSAFE_ProgressButtonLabelLayout';\nimport { forwardRef, ElementRef } from 'preact/compat';\nimport type { DimensionProps } from '../utils/UNSAFE_interpolations/dimensions';\nimport { useTooltip } from '../hooks/UNSAFE_useTooltip';\nimport { TestIdProps } from '../hooks/UNSAFE_useTestId';\nimport type { ButtonIntrinsicProps } from '../utils/UNSAFE_buttonUtils';\nimport { processGlobals } from '../utils/UNSAFE_buttonUtils';\nimport { mergeProps } from '#utils/UNSAFE_mergeProps';\nimport translations from '#resources/nls/en/bundle';\n\ntype ButtonHandle = ElementRef<typeof BaseButton>;\n\ntype WidthInterpolationProps = Pick<DimensionProps, 'width'>;\n\ntype BaseProps = ButtonIntrinsicProps &\n  WidthInterpolationProps &\n  TestIdProps & {\n    /**\n     * Specifies the icon for the button.\n     */\n    children?: ComponentChild;\n\n    /**\n     * Specifies that a quick indeterminate action is taking place, making the button read-only.\n     */\n    isLoading?: boolean;\n\n    /**\n     * Specifies that the button element should be disabled.\n     */\n    isDisabled?: boolean;\n\n    /**\n     * Specifes the button type\n     */\n    type?: 'button' | 'submit';\n\n    /**\n     * Triggered when a button is clicked, whether by keyboard, mouse, or touch events.\n     */\n    onAction?: () => void | null;\n\n    /**\n     * Indicates in what states the button has chrome (background and border).\n     *     \"borderless\"': \"Borderless buttons are a more prominent variant. Borderless\n     * buttons are useful for supplemental actions that require minimal emphasis.\",\n     *     \"outlined\"': \"Outlined buttons are salient, but lighter weight than\n     * solid buttons. Outlined buttons are useful for secondary actions.\",\n     *     \"solid\"': \"Solid buttons stand out, and direct the user's attention to the\n     *  most important actions in the UI.\",\n     *     \"callToAction\"': \"A Call To Action (CTA) button guides the user to take or\n     * complete the action that is the main goal of the page or page section. There\n     * should only be one CTA button on a page at any given time.\",\n     */\n    variant?: 'borderless' | 'outlined' | 'solid' | 'callToAction';\n    /**\n     * The size indicates how large the button is rendered.\n     */\n    size?: 'sm' | 'md' | 'lg';\n\n    /**\n     * tooltip - used for tooltip and aria-label\n     */\n    tooltip: string;\n  };\n\n/**\n * An Icon Progress button is an icon push button that can show progress.\n */\nexport const IconProgressButton = forwardRef(\n  (\n    {\n      variant = 'outlined',\n      isLoading = false,\n      isDisabled = false,\n      size = 'md',\n      type: buttonType = 'button',\n      onAction,\n      width,\n      tooltip,\n      testId,\n      ...props\n    }: BaseProps & TestIdProps,\n    ref: Ref<ButtonHandle>\n  ) => {\n    const { globalEventProps } = processGlobals(props);\n    const isAdjustedLoading = isDisabled ? false : isLoading;\n    const progressStatus = translations.accButtonProgressStatus({\n      label: tooltip\n    });\n    const progressComplete = translations.accButtonProgressComplete({\n      label: tooltip\n    });\n\n    const elementDetails = {\n      type: 'button' as const,\n      buttonType: buttonType\n    };\n\n    const tooltipLabel = tooltip;\n\n    const { tooltipContent, tooltipProps } = useTooltip({\n      text: tooltipLabel,\n      isDisabled\n    });\n\n    /* For a11y, we use ignore aria-label during loading time */\n    const { 'aria-describedby': adb, ...ttProps } = tooltipProps;\n\n    return (\n      <Fragment>\n        <BaseButton\n          {...mergeProps(ttProps, globalEventProps)}\n          ref={ref}\n          elementDetails={elementDetails}\n          isReadOnly={isAdjustedLoading}\n          isDisabled={isDisabled}\n          size={size}\n          variant={variant}\n          width={width}\n          styling={isAdjustedLoading ? ['min', 'hiddenLabel', 'noHoverActive'] : ['min']}\n          onAction={onAction}\n          aria-label={tooltip}\n          testId={testId}>\n          <ProgressButtonLabelLayout\n            display={'icons'}\n            isLoading={isAdjustedLoading}\n            accessibleLoadedLabel={progressComplete}\n            accessibleLoadingLabel={progressStatus}\n            isLoadingContrast={variant === 'callToAction'}\n            startIcon={props.children}\n            size={size}></ProgressButtonLabelLayout>\n        </BaseButton>\n        {tooltipContent}\n      </Fragment>\n    );\n  }\n);\n\nIconProgressButton.displayName = 'IconProgressButton';\n"],"names":["translations","_jsxs","_jsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;;AAEG;MACU,kBAAkB,GAAG,UAAU,CAC1C,CACE,EACE,OAAO,GAAG,UAAU,EACpB,SAAS,GAAG,KAAK,EACjB,UAAU,GAAG,KAAK,EAClB,IAAI,GAAG,IAAI,EACX,IAAI,EAAE,UAAU,GAAG,QAAQ,EAC3B,QAAQ,EACR,KAAK,EACL,OAAO,EACP,MAAM,EACN,GAAG,KAAK,EACgB,EAC1B,GAAsB,KACpB;IACF,MAAM,EAAE,gBAAgB,EAAE,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;IACnD,MAAM,iBAAiB,GAAG,UAAU,GAAG,KAAK,GAAG,SAAS,CAAC;AACzD,IAAA,MAAM,cAAc,GAAGA,MAAY,CAAC,uBAAuB,CAAC;AAC1D,QAAA,KAAK,EAAE,OAAO;AACf,KAAA,CAAC,CAAC;AACH,IAAA,MAAM,gBAAgB,GAAGA,MAAY,CAAC,yBAAyB,CAAC;AAC9D,QAAA,KAAK,EAAE,OAAO;AACf,KAAA,CAAC,CAAC;AAEH,IAAA,MAAM,cAAc,GAAG;AACrB,QAAA,IAAI,EAAE,QAAiB;AACvB,QAAA,UAAU,EAAE,UAAU;KACvB,CAAC;IAEF,MAAM,YAAY,GAAG,OAAO,CAAC;AAE7B,IAAA,MAAM,EAAE,cAAc,EAAE,YAAY,EAAE,GAAG,UAAU,CAAC;AAClD,QAAA,IAAI,EAAE,YAAY;QAClB,UAAU;AACX,KAAA,CAAC,CAAC;;IAGH,MAAM,EAAE,kBAAkB,EAAE,GAAG,EAAE,GAAG,OAAO,EAAE,GAAG,YAAY,CAAC;IAE7D,QACEC,IAAC,CAAA,QAAQ,EACP,EAAA,QAAA,EAAA,CAAAC,GAAA,CAAC,UAAU,EACL,EAAA,GAAA,UAAU,CAAC,OAAO,EAAE,gBAAgB,CAAC,EACzC,GAAG,EAAE,GAAG,EACR,cAAc,EAAE,cAAc,EAC9B,UAAU,EAAE,iBAAiB,EAC7B,UAAU,EAAE,UAAU,EACtB,IAAI,EAAE,IAAI,EACV,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,iBAAiB,GAAG,CAAC,KAAK,EAAE,aAAa,EAAE,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,EAC9E,QAAQ,EAAE,QAAQ,EAAA,YAAA,EACN,OAAO,EACnB,MAAM,EAAE,MAAM,EACd,QAAA,EAAAA,GAAA,CAAC,yBAAyB,EAAA,EACxB,OAAO,EAAE,OAAO,EAChB,SAAS,EAAE,iBAAiB,EAC5B,qBAAqB,EAAE,gBAAgB,EACvC,sBAAsB,EAAE,cAAc,EACtC,iBAAiB,EAAE,OAAO,KAAK,cAAc,EAC7C,SAAS,EAAE,KAAK,CAAC,QAAQ,EACzB,IAAI,EAAE,IAAI,EAA8B,CAAA,EAAA,CAC/B,EACZ,cAAc,CACN,EAAA,CAAA,EACX;AACJ,CAAC,EACD;AAEF,kBAAkB,CAAC,WAAW,GAAG,oBAAoB;;;;"}