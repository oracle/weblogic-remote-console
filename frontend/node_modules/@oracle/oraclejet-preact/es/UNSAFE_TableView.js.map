{"version":3,"file":"UNSAFE_TableView.js","sources":["../../src/UNSAFE_TableView/TableView.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { forwardRef, ForwardedRef } from 'preact/compat';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { Table } from '../PRIVATE_Table';\nimport { tableViewStyles } from './themes/TableViewStyles.css';\nimport { TableProps, TableViewHandle } from './Table.types';\nimport { useCollectionInteractionContext } from '../hooks/UNSAFE_useCollectionInteractionContext';\nimport { TestIdProps } from '../hooks/UNSAFE_useTestId';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { DimensionProps, dimensionInterpolations } from '../utils/UNSAFE_interpolations/dimensions';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\n\n/**\n * Props specific to non-virtualized TableView\n */\ntype NonVirtualizedTableProps<K, D> = {\n  /**\n   * The data that is used to render each item in TableView.  If the value is null, then TableView will show nothing\n   * if hasMore is false, or loading indicator if hasMore is true.\n   */\n  data?: D[];\n  /**\n   * A callback function to extract the key which is used to identify the item.\n   */\n  getRowKey: (data: D) => K;\n  /**\n   * Whether there is more data available to load.  By default this returns false.\n   */\n  hasMore?: boolean;\n  /**\n   * An optional callback function which is invoked when the user scrolls to the end of the table.\n   */\n  onLoadMore?: () => void;\n};\n\n/**\n * Props for the TableView Component\n */\nexport type Props<K, D, C extends string> = TableProps<K, D, C> &\n  NonVirtualizedTableProps<K, D> &\n  DimensionProps &\n  TestIdProps;\n\nconst mergedInterpolations = mergeInterpolations<DimensionProps>([\n  ...Object.values(dimensionInterpolations)\n]);\n\n/**\n * Component that renders data in rows of columns.\n * This component is non-virtualized and renders all rows provided in the data prop.\n */\nexport const TableView = forwardRef(\n  <K extends string | number, D, C extends string>(\n    {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      getAccessibleRowHeaders,\n      children,\n      columns,\n      columnOrder,\n      columnWidths,\n      contextMenuConfig,\n      viewportConfig,\n      layout = 'contents',\n      data,\n      getRowKey,\n      hasMore = false,\n      onLoadMore,\n      currentCellOverride,\n      onPersistCurrentCell,\n      currentRowVariant,\n      gridlines = { horizontal: 'visible', vertical: 'hidden' },\n      selectionMode = { row: 'none', column: 'none' },\n      selected,\n      onSelectionChange,\n      onRowAction,\n      sortCriterion = [],\n      onSortCriterionChange,\n      horizontalScrollPositionOverride,\n      verticalScrollPositionOverride,\n      columnResizingIndicator,\n      onColumnResizing,\n      onColumnResize,\n      noDataRenderer,\n      scrollerRef,\n      testId,\n      ...dimensions\n    }: Props<K, D, C>,\n    ref?: ForwardedRef<TableViewHandle<K, C>>\n  ) => {\n    const isEmbedded = useCollectionInteractionContext() === 'embedded';\n    const rowVariant =\n      currentRowVariant != null ? currentRowVariant : isEmbedded ? 'highlight' : 'none';\n\n    const { ...mergedStyles } = mergedInterpolations(dimensions);\n    const isExternalScroller = viewportConfig?.scroller() != null;\n    const classArray = [tableViewStyles.base];\n    classArray.push(\n      isExternalScroller ? tableViewStyles.externalScroller : tableViewStyles.internalScroller\n    );\n    const tableViewClasses = classNames(classArray);\n\n    return (\n      <div class={tableViewClasses} style={mergedStyles}>\n        <Table<K, D, C>\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n          getAccessibleRowHeaders={getAccessibleRowHeaders}\n          children={children}\n          columns={columns}\n          columnOrder={columnOrder}\n          columnWidths={columnWidths}\n          contextMenuConfig={contextMenuConfig}\n          viewportConfig={viewportConfig}\n          layout={layout}\n          data={data}\n          getRowKey={getRowKey}\n          hasMore={hasMore}\n          onLoadMore={onLoadMore}\n          currentCellOverride={currentCellOverride}\n          onPersistCurrentCell={onPersistCurrentCell}\n          currentRowVariant={rowVariant}\n          gridlines={gridlines}\n          selectionMode={selectionMode}\n          selected={selected}\n          onSelectionChange={onSelectionChange}\n          onRowAction={onRowAction}\n          horizontalScrollPositionOverride={horizontalScrollPositionOverride}\n          verticalScrollPositionOverride={verticalScrollPositionOverride}\n          sortCriterion={sortCriterion}\n          onSortCriterionChange={onSortCriterionChange}\n          columnResizingIndicator={columnResizingIndicator}\n          onColumnResizing={onColumnResizing}\n          onColumnResize={onColumnResize}\n          noDataRenderer={noDataRenderer}\n          scrollerRef={scrollerRef}\n          testId={testId}\n          ref={ref}\n        />\n      </div>\n    );\n  }\n) as <K extends string | number, D, C extends string>(\n  p: Props<K, D, C> & { ref?: ForwardedRef<TableViewHandle<K, C>> }\n) => JSXInternal.Element;\n"],"names":["_jsx"],"mappings":"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"}