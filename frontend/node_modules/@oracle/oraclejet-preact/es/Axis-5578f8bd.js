/* @oracle/oraclejet-preact: undefined */
import { jsx, jsxs, Fragment } from 'preact/jsx-runtime';
import { styles } from './PRIVATE_Axis/themes/AxisStyles.css.js';
import { c as classNames } from './classNames-4e12b00d.js';
import { g as getClientHints } from './clientHints-a42b510c.js';
import { M as MultilineText, S as SinglelineText } from './MultilineText-c7d80332.js';
import './datatipUtils-0a36125e.js';
import { c as getEnclosingRectDims } from './labelUtils-aee6ab65.js';
import { AxisRedwoodTheme } from './PRIVATE_Axis/themes/redwood/AxisTheme.js';
import { u as useComponentTheme } from './useComponentTheme-d2f9e47f.js';
import { u as updateVisTextStyleProperties } from './textUtils-3ed25dd1.js';
import { styles as styles$1 } from './hooks/PRIVATE_useVisDnd/themes/VisDndStyles.css.js';

/**
 * Renders the svg text with given style and svg attributes.
 */
function ChartAxisText({ style, textProps, isTitle, isInteractive, id, isRotated, isRtl, dataProps, axisPosition }) {
    const browser = getClientHints().browser;
    const className = classNames([
        isInteractive ? styles.isInteractive : '',
        isTitle ? styles.axisTitle : '',
        !isTitle && browser === 'safari' ? styles.middleBaseline : '',
        !isTitle || !isRotated ? styles.centralBaseline : '',
        isTitle && (axisPosition === 'left' || axisPosition === 'right')
            ? styles.textAfterEdgeBaseline
            : ''
    ]);
    const isMultiline = textProps.lines.length > 1;
    return isMultiline ? (jsx(MultilineText, { class: className, text: textProps.text, dataProps: dataProps, isRtl: isRtl, isRotated: isRotated, lines: textProps.lines, lineProps: textProps.lineProps, textStyle: style, isTruncated: textProps.isTruncated, id: id })) : (jsx(SinglelineText, { style: style, isRtl: isRtl, isRotated: isRotated, dataProps: dataProps, text: textProps.lines[0], props: textProps.lineProps[0], isTruncated: textProps.isTruncated, id: id, class: className }));
}

/**
 * Renders the chart axis.
 */
function Axis({ title, titleStyle, titleProps, tickLabels, tickLabelStyle, focusedGroupIndex, focusedGroupLevelIndex, axisPosition, isRtl, activeId, isTextInteractive, cursor, availSpace, dragOverStyle, separators, separatorColor }) {
    const { classes } = useComponentTheme(AxisRedwoodTheme);
    const axisClass = [classes];
    switch (dragOverStyle) {
        case 'accept':
            axisClass.push(styles$1.dndDragOverSvgStyle);
            break;
        case 'reject':
            axisClass.push(styles$1.dndRejectedStyle);
            axisClass.push(styles.axisBackground);
            break;
        case 'none':
            axisClass.push(styles.axisBackground);
    }
    return (jsxs(Fragment, { children: [jsxs("g", { class: classNames(axisClass), style: { cursor }, children: [jsx("rect", { ...availSpace }), title && titleProps && (jsx(ChartAxisText, { textProps: titleProps, isRtl: isRtl, isRotated: !!titleProps.isRotated, style: updateVisTextStyleProperties(titleStyle), isTitle: true, isInteractive: false, axisPosition: axisPosition })), tickLabels.length > 0 && (jsx("g", { style: tickLabelStyle, class: classNames([styles.axisLabel]), children: tickLabels.map(({ index, ...textProps }) => {
                            const level = parseInt(textProps.dataProps?.['data-oj-private-level-index']);
                            const group = parseInt(textProps.dataProps?.['data-oj-private-group-index']);
                            const isFocused = focusedGroupIndex === group && focusedGroupLevelIndex === level;
                            return (jsxs(Fragment, { children: [isFocused
                                        ? textProps.text &&
                                            textProps.dims && (jsx("rect", { rx: "2", ry: "2", ...getEnclosingRectDims(textProps.dims, axisPosition, isRtl), class: styles.outlineRing }))
                                        : '', textProps.text && (jsx(ChartAxisText, { textProps: textProps, isTitle: false, isRotated: !!textProps.isRotated, isRtl: isRtl, dataProps: textProps.dataProps, isInteractive: !!isTextInteractive?.(index), id: isFocused ? activeId : '' }))] }));
                        }) }))] }), separators?.map((path) => {
                return (jsx("line", { style: { stroke: separatorColor }, x1: path[0], y1: path[1], x2: path[2], y2: path[3], className: styles.groupSeparatorLine }));
            })] }));
}

export { Axis as A };
//# sourceMappingURL=Axis-5578f8bd.js.map
