/* @oracle/oraclejet-preact: undefined */
import { jsx } from 'preact/jsx-runtime';
import { useRef, useState, useCallback } from 'preact/hooks';
import { u as useResizeObserver } from './useResizeObserver-13641643.js';
import { forwardRef, useImperativeHandle } from 'preact/compat';
import { g as getColCount, B as BaseSwatchView } from './BaseSwatchView-96d72c6c.js';

const SwatchFlexView = forwardRef((props, ref) => {
    const rootRef = useRef(null);
    useImperativeHandle(ref, () => rootRef.current, [rootRef]);
    const [size, setSize] = useState({});
    const updateSwatchSize = (swatchWidth, swatchHeight) => {
        setSize((size) => ({ ...size, swatchWidth, swatchHeight }));
    };
    const handleResize = useCallback((entry) => {
        const containerWidth = entry.contentRect.width;
        if (size.containerWidth !== containerWidth) {
            setSize((size) => ({ ...size, containerWidth }));
        }
    }, [size]);
    useResizeObserver(rootRef, handleResize);
    const columns = getColCount(8, size.swatchWidth, size.containerWidth);
    const swatchSize = { width: size.swatchWidth, height: size.swatchHeight };
    return (jsx(BaseSwatchView, { ...props, ref: rootRef, columns: columns, swatchSize: swatchSize, updateSwatchSize: updateSwatchSize }));
});

export { SwatchFlexView as S };
//# sourceMappingURL=SwatchFlexView-6c94f2bd.js.map
