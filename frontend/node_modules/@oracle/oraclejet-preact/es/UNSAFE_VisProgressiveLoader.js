/* @oracle/oraclejet-preact: undefined */
import { jsxs, jsx } from 'preact/jsx-runtime';
import { u as useLoadingIndicatorTimer } from './useLoadingIndicatorTimer-898d4e3e.js';
import { L as LiveRegion } from './LiveRegion-79ffc814.js';
import { H as HiddenAccessible } from './HiddenAccessible-61197e7c.js';
import { u as useId } from './useId-03dbfdf0.js';
import { u as useTranslationBundle } from './useTranslationBundle-25469f1c.js';
import { baseStyles, loadingContainerStyles } from './UNSAFE_VisProgressiveLoader/themes/ProgressiveLoaderStyles.css.js';
import { c as classNames } from './classNames-4e12b00d.js';
import { s as sizeToCSS } from './size-a3d3aeaf.js';
import { S as Skeleton } from './Skeleton-a06f4f74.js';
import { baseStyles as baseStyles$1, baseSkeletonContainerStyles, skeletonContainerStyles } from './UNSAFE_VisProgressiveLoader/themes/VisSkeletonStyles.css.js';
import './useTimer-571e41e7.js';
import 'preact/hooks';
import './LiveRegionStyles.styles.css';
import './useTestId-e5d44ab1.js';
import './LayerHost-12489cef.js';
import './index-3e2e69c4.js';
import 'preact';
import 'preact/compat';
import './UNSAFE_Layer/themes/LayerHostStyles.css.js';
import './LayerHostStyles.styles.css';
import './HiddenAccessibleStyles.styles.css';
import './ProgressiveLoaderStyles.styles.css';
import './utils-cfef1929.js';
import './themeContract.css-2b5a42e2.js';
import './colorUtils-b3804ee8.js';
import './_curry1-63949a9b.js';
import './dimensions-ddde0eee.js';
import './mergeInterpolations-30cd9a69.js';
import './mergeDeepWithKey-33e3d1be.js';
import './_curry3-577eb45e.js';
import './_curry2-01c87f61.js';
import './_isObject-1fab0f5b.js';
import './borders-98a63040.js';
import './useComponentTheme-d2f9e47f.js';
import './logger-c92f309c.js';
import './UNSAFE_Skeleton/themes/redwood/SkeletonTheme.js';
import './UNSAFE_Skeleton/themes/SkeletonStyles.css.js';
import './SkeletonStyles.styles.css';
import './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css.js';
import './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.styles.css';
import './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css.js';
import './vanilla-extract-recipes-createRuntimeFn.esm-2aaf8c98.js';
import './VisSkeletonStyles.styles.css';

/**
 * Displays the specified fallback content during progressive loading of the main content.
 */
function ProgressiveLoader({ isLoading, fallback, children, role, tabIndex, width, height, 'aria-label': ariaLabel, 'aria-labelledby': ariaLabelledBy, 'aria-describedby': ariaDescribedBy }) {
    const showLoadingIndicator = useLoadingIndicatorTimer(isLoading);
    const { vis_stateLoading, vis_stateLoaded } = useTranslationBundle('@oracle/oraclejet-preact');
    const descId = useId();
    return isLoading && showLoadingIndicator ? (jsxs("div", { role: role, tabIndex: tabIndex, "aria-label": ariaLabel, "aria-labelledby": ariaLabelledBy, "aria-describedby": ariaDescribedBy
            ? [...new Set(ariaDescribedBy.split(/\s+/).concat(descId))].join(' ')
            : descId, class: classNames([baseStyles, loadingContainerStyles]), style: {
            width: width && sizeToCSS(width),
            height: height && sizeToCSS(height)
        }, children: [fallback, jsx(HiddenAccessible, { id: descId, children: vis_stateLoading() }), jsx(LiveRegion, { type: "polite", children: vis_stateLoading() })] })) : (jsxs("div", { class: baseStyles, style: {
            width: width && sizeToCSS(width),
            height: height && sizeToCSS(height)
        }, children: [children, jsx(LiveRegion, { type: "polite", children: ariaLabel ? `${ariaLabel}, ${vis_stateLoaded()}` : vis_stateLoaded() })] }));
}

/**
 * Skeleton loading for visualizations.
 */
function VisSkeleton({ type, width, height }) {
    return (jsx("div", { class: baseStyles$1, style: {
            width: width && sizeToCSS(width),
            height: height && sizeToCSS(height)
        }, children: jsx("div", { class: classNames([baseSkeletonContainerStyles, skeletonContainerStyles[type]]), children: jsx(Skeleton, { width: "100%", height: "100%" }) }) }));
}

/**
 * Displays the specified fallback content during progressive loading of the visualization.
 */
function VisProgressiveLoader({ type, role = 'application', children, ...props }) {
    const fallback = jsx(VisSkeleton, { type: type });
    return (jsx(ProgressiveLoader, { role: role, tabIndex: 0, fallback: fallback, ...props, children: children }));
}

export { VisProgressiveLoader };
//# sourceMappingURL=UNSAFE_VisProgressiveLoader.js.map
