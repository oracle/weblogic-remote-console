{"version":3,"file":"LineAreaChartAdapter.js","sources":["../../../../src/UNSAFE_LineAreaChart/__testing__/LineAreaChartAdapter.ts"],"sourcesContent":["import { TestAdapter } from '@oracle/oraclejet-testing/UNSAFE_TestAdapter';\nimport {\n  Keys,\n  TestDriver,\n  TestElement,\n  getTestDriver\n} from '@oracle/oraclejet-testing/UNSAFE_Driver';\nimport { byCss } from '@oracle/oraclejet-testing/UNSAFE_Locators';\n\nasync function panStart(driver: TestDriver, element: TestElement): Promise<void> {\n  await driver.click(element);\n  await driver.sendKeys(element, Keys['PAGE_UP']);\n}\n\nasync function panEnd(driver: TestDriver, element: TestElement): Promise<void> {\n  await driver.click(element);\n  await driver.sendKeys(element, Keys['PAGE_DOWN']);\n}\n\nasync function clearPreviousSelection(element: TestElement) {\n  const driver = getTestDriver();\n  await driver.click(element);\n}\n\n// Function to find the data point by id\nasync function findDataPointById(itemId: string | number, element: TestElement) {\n  const dataPointElements = await element.waitForElements(\n    byCss(`[data-oj-private-item-id=\"${itemId}\"]`)\n  );\n  // Check if any data points are found\n  if (dataPointElements.length === 0) {\n    return null;\n  }\n  return dataPointElements[0];\n}\n\nexport class LineAreaChartAdapter extends TestAdapter {\n  //TODO : We will need to remove selection mode when we can read attributes.\n  /**\n   * Triggers selection on the given item\n   * @param itemId\n   * @param replace\n   * @param selectionMode\n   */\n  async doSelectItem(\n    itemId: string | number,\n    replace: boolean,\n    selectionMode: string\n  ): Promise<void> {\n    const driver = getTestDriver();\n    const chartElement = await this.getElement();\n\n    if (selectionMode === 'single' || replace) {\n      await clearPreviousSelection(chartElement);\n    }\n    const dataPoint = await findDataPointById(itemId, chartElement);\n\n    if (dataPoint) {\n      await driver.click(dataPoint);\n    } else {\n      console.warn(`Data point with itemId ${itemId} not found in the viewport`);\n    }\n  }\n\n  // TODO: Perform CTRL+Click to implement de-select. \n  // async doDeselectItem(locator: TestIdLocator, itemId: string|number): Promise<void> {\n  //   const chartElement = await getElement(locator);\n  //   const driver = getTestDriver();\n\n  //   // Find the data point with the given itemId\n  //   const dataPoint = await findDataPointById(chartElement,itemId);\n\n  //   // Perform Ctrl + click\n  //   if (dataPoint) {\n  //     //await driver.sendKeys(dataPoint,Key.CONTROL,'a');\n  //   } else {\n  //     console.warn(`Data point with itemId ${itemId} not found in the viewport.`);\n  //   }\n  // }\n\n  /**\n   * Triggers item drill on then item with given id.\n   * @returns\n   */\n  async doDrillItem(itemId: string | number): Promise<void> {\n    const driver = getTestDriver();\n    const chartElement = await this.getElement();\n\n    const dataPoint = await findDataPointById(itemId, chartElement);\n\n    // Check if a data point was found\n    if (dataPoint) {\n      // single click to simulate the drill action\n      await driver.click(dataPoint);\n    } else {\n      console.warn(`Data point with itemId ${itemId} not found in the viewport.`);\n    }\n  }\n\n  async doDrillGroup(groupId: string): Promise<void> {\n    const driver = getTestDriver();\n    const chartElement = await this.getElement();\n\n    // Locate the group elements with the matching data-oj-private-id\n    const groupElements = await chartElement.waitForElements(\n      byCss(`[data-oj-private-group-id=\"${groupId}\"]`)\n    );\n\n    // Check if a group was found\n    if (groupElements[0]) {\n      // Perform a single click to simulate the drill action\n      await driver.click(groupElements[0]);\n    } else {\n      console.warn(`Group with groupId ${groupId} not found in the viewport.`);\n    }\n  }\n\n  async doZoom(direction: 'in' | 'out'): Promise<void> {\n    const driver = getTestDriver();\n    const chartElement = await this.getElement();\n    await driver.sendKeys(chartElement, direction === 'in' ? '+' : '-');\n  }\n\n  async doPan(direction: 'start' | 'end'): Promise<void> {\n    const driver = getTestDriver();\n    const chartElement = await this.getElement();\n    if (direction === 'start') {\n      await panStart(driver, chartElement);\n    } else {\n      await panEnd(driver, chartElement);\n    }\n  }\n}\n"],"names":[],"mappings":"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"}