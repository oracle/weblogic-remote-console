# Copyright (c) 2020, 2025, Oracle Corporation and/or its affiliates.
# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.
subTypeDiscriminatorProperty: Type
subTypes:
- type: weblogic.management.runtime.JDBCUCPDataSourceRuntimeMBean
  value: JDBCUCPDataSourceRuntime
- type: weblogic.management.runtime.JDBCAbstractDataSourceRuntimeMBean
  value: JDBCAbstractDataSourceRuntime
- type: weblogic.management.runtime.JDBCProxyDataSourceRuntimeMBean
  value: JDBCProxyDataSourceRuntime
- type: weblogic.management.runtime.JDBCOracleDataSourceRuntimeMBean
  value: JDBCOracleDataSourceRuntime
- type: weblogic.management.runtime.JDBCDataSourceRuntimeMBean
  value: JDBCDataSourceRuntime

properties:
- name: State
  legalValues:
  - value: Running
  - value: Suspended
  - value: Shutdown
  - value: Unhealthy
  - value: Overloaded
  - value: Unknown
- name: TestResults
  getMethod: weblogic.remoteconsole.customizers.JDBCDataSourceRuntimeMBeanCustomizer.getTestResults
  multiLineString: true
  presentation:
    width: xxl

# Note - the WLS console hides the actions of UCP data sources.
# Also, it calls DataSourceRuntimeMBean.isOperationAllowed to
# find out whether the data source currently supports the action.
# Also, the JDBCDataSourceRuntimeMBean doesn't have a property that
# indicates if it's UCP, so the WLS console looks at its
# corresponding config mbean.
#
# It would be a lot of work to mimic this in the remote console.
# The proper way to do it is to add custom properties for each
# action that indicate whether the action can be invoked, and to
# have each action 'usedIf' the corresponding property.
#
# For now, the actions just copy DataSourceRuntimeMBean.isOperationAllowed logic.
actions:
- name: "start"
  label: "Start"
  successMessage: Started {0}
  failureMessage: Failed to start {0}
- name: "resume"
  label: "Resume"
  successMessage: Resumed {0}
  failureMessage: Failed to resume {0}
- name: "suspend"
  label: "Suspend gracefully"
  successMessage: Suspended {0}
  failureMessage: Failed to gracefully suspend {0}
- name: "forceSuspend"
  label: "Force suspend"
  successMessage: Suspended {0}
  failureMessage: Failed to force suspend {0}
- name: "shutdown"
  label: "Shutdown"
  successMessage: Shutdown {0}
  failureMessage: Failed to gracefully shutdown {0}
  helpLabel: "Shutdown gracefully"
- name: "forceShutdown"
  label: "Force shutdown"
  successMessage: Shutdown {0}
  failureMessage: Failed to force shutdown {0}
- name: "shrink"
  label: "Shrink"
  successMessage: Shrank {0}
  failureMessage: Failed to shrink {0}
- name: "reset"
  label: "Reset"
  successMessage: Reset {0}
  failureMessage: Failed to reset {0}
- name: "clearStatementCache"
  label: "Clear cache"
  successMessage: Cleared the cache of {0}
  failureMessage: Failed to clear the cache of {0}
